@model IEnumerable<QolaMVC.Models.HomeModel>

@RenderPage("~/Views/Shared/_Header.cshtml")
@RenderPage("~/Views/Shared/_SideBar.cshtml")

<style>

    .home-box {
        height: 250px;
        background: center center no-repeat;
        background-size: cover;
    }
</style>
<!-- START PAGE-CONTAINER -->
<div class="page-container">

    @RenderPage("~/Views/Shared/_NavBar.cshtml")
    <!-- START PAGE CONTENT WRAPPER -->
    <div class="page-content-wrapper">
        <!-- START PAGE CONTENT -->
        <div class="content">
            <!-- START JUMBOTRON -->
            <div class="jumbotron w-100" style="position: fixed; z-index: 400">
                <div class="container-fluid container-fixed-lg">
                    <!-- <div class="inner"> -->
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h3>Province Homes</h3>
                        </div>
                        <div class="col-md-2 text-right">
                            <h4 class="text-danger bold pr-3">
                                @*4318
                                <small>Residents</small>*@
                            </h4>
                        </div>
                    </div>
                    <!-- </div> -->
                </div>
            </div>
            <!-- END JUMBOTRON -->
            <div style="height: 60px;"></div>
            <!-- START CONTAINER FLUID -->
            <div class="container-fluid container-fixed-lg">
                <!-- BEGIN PlACE PAGE CONTENT HERE -->
                @{
                    IEnumerable<string> l_Provinces = Model.Select(x => x.ProvinceName).Distinct();
                }
                @foreach (var prov in l_Provinces)
                {
                    <div class="row mb-5">
                        <div class="col-md-12">
                            <h2>@prov</h2>
                            <hr />
                        </div>

                        @{
                            IEnumerable<QolaMVC.Models.HomeModel> l_Homes = Model.Where(x => x.Province.Name == prov);
                        }

                        @foreach (var home in l_Homes)
                        {

                            string l_Image = "/Content/assets/" + home.IconImage;
                            <div class="col-md-3 mb-3">
                                <a href="~/Home/Menu/?p_HomeId=@home.Id">
                                    <div class="card no-border  no-margin">
                                        <div class="padding-15">
                                            <div class="item-header clearfix">
                                                <div class="inline m-l-10">
                                                    <p class="no-margin">
                                                        <strong>@home.Name</strong>
                                                    </p>
                                                    <p class="no-margin hint-text">
                                                        <span class="location semi-bold">
                                                            <i class="fa fa-map-marker"></i>
                                                            @home.Address
                                                        </span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="relative">
                                            <div class="no-overflow home-box" style="background-image: url(@l_Image)">
                                                <!-- <img src="assets/img/residents/resident<?php echo $i ?>.jpg" class="block center-margin relative w-100" alt="Post"> -->
                                            </div>
                                        </div>
                                        <div class="padding-15">
                                            <div class="list-inline pull-left no-margin">
                                                Open
                                            </div>
                                            <div class="list-inline pull-right no-margin">
                                                <div class="badge badge-danger fs-14 px-3">@home.OccupiedSuites/@home.TotalSuites</div>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        }

                    </div>
                }

                <!-- END PLACE PAGE CONTENT HERE -->
            </div>
            <!-- END CONTAINER FLUID -->
        </div>
        <!-- END PAGE CONTENT -->
        @RenderPage("~/Views/Shared/_Footer.cshtml")
