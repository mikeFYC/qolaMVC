@model QolaMVC.Models.Dining_Attendance_simple
@RenderPage("~/Views/Shared/_Header.cshtml")
@RenderPage("~/Views/Shared/_SideBar.cshtml")
<!DOCTYPE html>
<html lang='en'>

<head>
    <style>
        body {
            -webkit-print-color-adjust: exact;
        }

        .fc-event-container:hover {
            cursor: pointer;
        }

        #AddEvent label {
            font-size: 1vw;
            color: black;
        }

        #AddEvent #frequency #frequency_div label {
            font-size: 0.8vw !important;
            color: black;
        }

        .required_sign {
            color: red;
        }

        hr {
            display: block;
            height: 1px;
            border: 0;
            border-top: 2px solid #ccc !important;
            margin: 1em 0;
            padding: 0;
            border-color: black !important;
        }

        .fc-event {
            min-height: 2.8vh;
            font-size: 1vw !important;
        }
        .fc-month-view span.fc-title {
            white-space: normal !important;
            color:black;
        }
        .fc-basicWeek-view span.fc-title {
            white-space: normal !important;
            color: black;
        }

        .fc-center h2 {
            font-weight: bold !important;
        }

        .P_and_N_white {
            background-color: white;
        }

        .fc-more-cell {
            font-weight: bold;
            color: black;
        }

        #calendar1_name, #calendar2_name, #calendar3_name, #calendar4_name {
            margin-bottom: 0px !important;
            font-weight: bold;
            font-size: 1.2vw;
        }

        .nav-pills li a{
            padding:10px 14px !important;
        }

    </style>
    <style>
        .multiselect {
            width: 200px;
        }

        .selectBox {
            position: relative;
            height: 5vh;
        }

        .selectBox select {
            width: 100%;
        }

        .overSelect {
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
        }

        #checkboxes {
            display: none;
            border: 1px #dadada solid;
            position: absolute;
            background-color: white;
            z-index: 100;
        }

        #checkboxes label {
            display: block;
            margin-bottom: 0 !important;
        }

        #checkboxes label:hover {
            background-color: #1e90ff;
        }

        #list_table, #list_table2, #list_table3 td{
            font-size: 1.1vw;
        }
        #list_table label {
            font-size: 1.1vw !important;
        }
        #list_table2 label {
            font-size: 1.1vw !important;
        }
        #list_table3 label {
            font-size: 1.1vw !important;
        }

        .caname .nav-link.active {
            background-color: #015093 !important;
        }
    </style>
    <script>


        function exportWord() {
            var date = $('#lblCalendarMsg').html();
            var tab = $('#hiddentab').val();
            if (tab == "a" || tab == "") {
                var date = $('#lblCalendarMsg').html();
            }
            else if (tab == "b") {
                var date = $('#lblCalendarMsg2').html();
            }
            else if (tab == "c") {
                var date = $('#lblCalendarMsg3').html();
            }
            else if (tab == "d") {
                var date = $('#lblCalendarMsg4').html();
            }

            var calendarNumber = $('#hiddentab').val();
            if (calendarNumber == "") {
                calendarNumber = "a";
            }
            var DWM = $('#DWM').val();
            var caname = "";
            $('.caname li a').each(function () {
                if (this.className == "nav-link active") {
                    caname = this.firstElementChild.innerHTML;
                }
            });

            //$.ajax({
            //    type: 'get',
            //    url: "/Home/exportToWord",
            //    dataType: 'json',
            //    data: { titleDate: date, DWM: DWM , CaName:caname }
            //});
            location.href = '/Home/exportToWord?titleDate=' + date + '&DWM=' + DWM + '&CaName=' + caname + '&CaNumber=' + calendarNumber;

        }
    </script>

    <meta charset='utf-8' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Calendar Plugin</title>

    @*<link rel="stylesheet" href="/Content/calendar/css/calendar-plugin.min.css" media="all" />*@
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="~/Content/calendar/plugins/jquery/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.js"></script>
    @*<script src="~/Content/calendar/js/calendar-plugin.js"></script>*@

    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="apple-touch-icon" href="~/Content/pages/ico/60.png">
    <link rel="apple-touch-icon" sizes="76x76" href="~/Content/pages/ico/76.png">
    <link rel="apple-touch-icon" sizes="120x120" href="~/Content/pages/ico/120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="~/Content/pages/ico/152.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta content="" name="description" />
    <meta content="" name="author" />
    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    <link href="/Content/bootstrap.css" rel="stylesheet">
    <link href="/Content/site.css" rel="stylesheet">
    <link href="/Content/assets/plugins/pace/pace-theme-flash.css" rel="stylesheet">
    <link href="/Content/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/Content/assets/plugins/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="/Content/assets/plugins/jquery-scrollbar/jquery.scrollbar.css" rel="stylesheet">
    <link href="/Content/assets/plugins/select2/css/select2.min.css" rel="stylesheet">
    <link href="/Content/assets/plugins/switchery/css/switchery.min.css" rel="stylesheet">
    <link href="/Content/pages/css/pages-icons.css" rel="stylesheet">
    <link href="/Content/assets/css/pages.css" rel="stylesheet">
    <link href="/Content/assets/css/datatables.css" rel="stylesheet">
    <link href="/Content/assets/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">




    <link href="~/Content/fullCalendar/css/fullcalendar.css" rel="stylesheet" />
    <link href="~/Content/fullCalendar/css/fullcalendar.print.css" rel="stylesheet" media="print" />
    @*<script src="~/Content/fullCalendar/lib/jquery.min.js"></script>*@
    <script src="~/Content/fullCalendar/lib/moment.min.js"></script>
    <script src="~/Content/fullCalendar/js/fullcalendar.js"></script>


</head>

<body id="mike">
    <!-- START PAGE-CONTAINER -->
    <div class="page-container">

        @RenderPage("~/Views/Shared/_NavBar.cshtml")

        <!-- START PAGE CONTENT WRAPPER -->
        <div class="page-content-wrapper">
            <!-- START PAGE CONTENT -->
            <div class="content">
                <!-- START JUMBOTRON -->
                <div class="jumbotron w-100" style="position: fixed; z-index: 400">
                    <div class="container-fluid container-fixed-lg">
                        <!-- <div class="inner"> -->
                        <div class="row align-items-center">
                            <div id="ACtivityCalendarTitle" style="width:75%;display:inline-block;">
                                <h3>Activity Calendar</h3>
                            </div>
                            <div style="width:24%;display:inline-block;">
                                <button onclick="location.href='/Home/Menu/?p_HomeId=@ViewBag.Home.Id';" class="btn btn-primary"><i class="fa fa-backward"></i> Back</button>
                                <button class="btn btn-danger print" id="PrintDAY" style="">Print</button>
                                <button class="btn btn-danger print2 hidden-print " id="PrintWAM" style="display:none;">Print</button>
                                <button class="btn btn-danger" onclick="exportWord()">DOC</button>
                            </div>
                        </div>
                        <!-- </div> -->
                    </div>
                </div>
                <!-- END JUMBOTRON -->
                <div style="height: 60px;"></div>
                <!-- START CONTAINER FLUID -->
                <div class="container-fluid container-fixed-lg">
                    <div class="card">
                        <div class="card-block">
                            <div class="form-tabs mt-4" id="AC_FirstRow">



                                @{
                                    var name1 = "Independent Calendar";
                                    var name2 = "Memory Care Calendar";
                                    var name3 = "Calendar Three";
                                    var name4 = "Calendar Four";
                                    if (ViewBag.CalendarName[0] != "") { name1 = ViewBag.CalendarName[0]; }
                                    if (ViewBag.CalendarName[1] != "") { name2 = ViewBag.CalendarName[1]; }
                                    if (ViewBag.CalendarName[2] != "") { name3 = ViewBag.CalendarName[2]; }
                                    if (ViewBag.CalendarName[3] != "") { name4 = ViewBag.CalendarName[3]; }
                                }
                                <ul class="nav nav-pills mb-3 caname" id="pills-tab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="pills-active-tab" data-toggle="pill" href="#pills-active" role="tab" aria-controls="pills-active" aria-selected="true" onclick="calendar_one()"><p id="calendar1_name" style="min-width:5vw;">@name1</p></a>
                                        <input type="image" style="width:1.1vw;height:1.5vh;position:absolute;margin-top:-5.3vh;margin-left:92%;background-color:white;border-radius:20%;opacity:0.90;" src="/Content/pages/img/icoedit.png" data-toggle="modal" data-target="#Calendar_Name_Change" onclick="calendar_change_name_click(this)">
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="pills-achive-tab" data-toggle="pill" href="#pills-achive" role="tab" aria-controls="pills-achive" aria-selected="false" onclick="calendar_two()"><p id="calendar2_name" style="min-width:5vw;">@name2</p></a>
                                        <input type="image" style="width:1.1vw;height:1.5vh;position:absolute;margin-top:-5.3vh;margin-left:92%;background-color:white;border-radius:20%;opacity:0.90;" src="/Content/pages/img/icoedit.png" data-toggle="modal" data-target="#Calendar_Name_Change" onclick="calendar_change_name_click(this)">
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="pills-achive-tab2" data-toggle="pill" href="#pills-C3" role="tab" aria-controls="pills-C3" aria-selected="false" onclick="calendar_three()"><p id="calendar3_name" style="min-width:5vw;">@name3</p></a>
                                        <input type="image" style="width:1.1vw;height:1.5vh;position:absolute;margin-top:-5.3vh;margin-left:92%;background-color:white;border-radius:20%;opacity:0.90;" src="/Content/pages/img/icoedit.png" data-toggle="modal" data-target="#Calendar_Name_Change" onclick="calendar_change_name_click(this)">
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="pills-achive-tab3" data-toggle="pill" href="#pills-C4" role="tab" aria-controls="pills-C4" aria-selected="false" onclick="calendar_four()"><p id="calendar4_name" style="min-width:5vw;">@name4</p></a>
                                        <input type="image" style="width:1.1vw;height:1.5vh;position:absolute;margin-top:-5.3vh;margin-left:92%;background-color:white;border-radius:20%;opacity:0.90;" src="/Content/pages/img/icoedit.png" data-toggle="modal" data-target="#Calendar_Name_Change" onclick="calendar_change_name_click(this)">
                                    </li>

                                    @{
                                        if (ViewBag.User.ID == 1338 || ViewBag.User.ID == 1346 || ViewBag.User.ID == 20 || ViewBag.User.ID == 1552)
                                        {
                                            <li class="nav-item hannahselector" style="width:22%;margin-left:5%;display:none;">
                                                <label style="display:inline-block;font-size:1vw;font-weight:bold;">Category:</label>
                                                <select class="nav-link" id="categorychoose" style="display:inline-block;width:68%;" onchange="changeCategory2(this.value)">
                                                    <option value="0">All</option>
                                                    @{
                                                        foreach (var Category in ViewBag.ActivityCategory)
                                                        {
                                                            <option value="@Category.Id">@Category.EnglishName</option>
                                                        }
                                                    }
                                                </select>
                                            </li>
                                            <li class="nav-item hannahselector" style="display:none;">
                                                <button class="btn btn-primary" id="HannahAdd" href="#" data-toggle="modal" data-target="#AddEvent_Hannan" style="font-size:1vw;font-weight:bold;" onclick="resetForm3()">ADD</button>

                                            </li>
                                        }
                                        else
                                        {
                                            <input type="hidden" id="categorychoose" value="0"/>
                                        }
                                    }


                                </ul>
                                <br>
                                <div class="tab-content" id="pills-tabContent">

                                    <div class="tab-pane fade show active" id="pills-active" role="tabpanel" aria-labelledby="pills-active-tab">
                                        <div id="calendar1Parent" style='position: relative; float: left; width: 100%;z-index:100;'>
                                            <div>
                                                <button class="btn text-white" id="day1" style="border-radius:.25rem;background-color:cornflowerblue;">Day</button>
                                                <button class="btn text-white" id="week1" style="border-radius:.25rem;background-color:#015093;">Week</button>
                                                <button class="btn text-white" id="month1" style="border-radius:.25rem;background-color:#015093;">Month</button>
                                                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-5vh;margin-left:37%;">
                                                    <li class="Prevbtn"><a id="imgPrevbtn_a" href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                                    <li class="clear_bg"><label id="lblCalendarMsg" style="font-weight:bolder;font-size:1.7em;margin-top:1.5vh;color:black;">@TempData["datechoose"].ToString()</label></li>
                                                    <li class="Nextbtn"><a id="imgNextbtn_a" href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                                    @*<li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>*@
                                                </ul>
                                                <input type="hidden" id="tempdate" value="@TempData["datechoose"].ToString()" />
                                            </div>
                                            @*<img  id="imgTop" src="~/Content/CalendarTheme/Images/MonthlyActivity/dec2018Theme1_6.JPG" style="position:fixed;width:10px;height:10px;display:none;z-index:10;" />*@
                                            <div id="fromHTMLtestdivPrint1">
                                                <section id='calendar'></section>
                                                <br><br><br>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="pills-achive" role="tabpanel" aria-labelledby="pills-achive-tab">
                                        <div id="calendar2Parent" style='position: relative; float: left; width: 100%;z-index:100;'>
                                            <div>
                                                <button class="btn text-white" id="day2" style="border-radius:.25rem;background-color:cornflowerblue;">Day</button>
                                                <button class="btn text-white" id="week2" style="border-radius:.25rem;background-color:#015093;">Week</button>
                                                <button class="btn text-white" id="month2" style="border-radius:.25rem;background-color:#015093;">Month</button>
                                                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-5vh;margin-left:37%;">

                                                    <li class="Prevbtn"><a href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                                    <li class="clear_bg"><label id="lblCalendarMsg2" style="font-weight:bolder;font-size:1.7em;margin-top:1.5vh;color:black">@TempData["datechoose"].ToString()</label></li>
                                                    <li class="Nextbtn"><a href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                                    @*<li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>*@
                                                </ul>
                                            </div>
                                            <div id="fromHTMLtestdivPrint2">
                                                <section id='calendar2'></section>
                                                <br><br><br>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="pills-C3" role="tabpanel" aria-labelledby="pills-achive-tab2">

                                        <div id="calendar3Parent" style='position: relative; float: left; width: 100%;z-index:100;'>
                                            <div>
                                                <button class="btn text-white" id="day3" style="border-radius:.25rem;background-color:cornflowerblue;">Day</button>
                                                <button class="btn text-white" id="week3" style="border-radius:.25rem;background-color:#015093;">Week</button>
                                                <button class="btn text-white" id="month3" style="border-radius:.25rem;background-color:#015093;">Month</button>
                                                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-5vh;margin-left:37%;">

                                                    <li class="Prevbtn"><a href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                                    <li class="clear_bg"><label id="lblCalendarMsg3" style="font-weight:bolder;font-size:1.7em;margin-top:1.5vh;color:black">@TempData["datechoose"].ToString()</label></li>
                                                    <li class="Nextbtn"><a href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                                    @*<li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>*@
                                                </ul>
                                            </div>
                                            <div id="fromHTMLtestdivPrint3">
                                                <section id='calendar3'></section>
                                                <br><br><br>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="pills-C4" role="tabpanel" aria-labelledby="pills-achive-tab3">
                                        <div id="calendar4Parent" style='position: relative; float: left; width: 100%;z-index:100;'>
                                            <div>
                                                <button class="btn text-white" id="day4" style="border-radius:.25rem;background-color:cornflowerblue;">Day</button>
                                                <button class="btn text-white" id="week4" style="border-radius:.25rem;background-color:#015093;">Week</button>
                                                <button class="btn text-white" id="month4" style="border-radius:.25rem;background-color:#015093;">Month</button>

                                                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-5vh;margin-left:37%;">

                                                    <li class="Prevbtn"><a href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                                    <li class="clear_bg"><label id="lblCalendarMsg4" style="font-weight:bolder;font-size:1.7em;margin-top:1.5vh;color:black">@TempData["datechoose"].ToString()</label></li>
                                                    <li class="Nextbtn"><a href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                                    @*<li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>*@
                                                </ul>
                                            </div>
                                            <div id="fromHTMLtestdivPrint4">
                                                <section id='calendar4'></section>
                                                <br><br><br>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div id="day_div" class="fromHTMLtestdiv" style="display:block;margin-top:21vh;margin-left:-2.5%; z-index:0;position:absolute;width:105%;">

                            <div class="container-fluid container-fixed-lg" id="main_page">
                                <div class="card">
                                    <div class="card-block">
                                        <div class="form-tabs mt-4">

                                            @*<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-12vh;margin-left:38%;padding-bottom:5%;">

                                <li class="Prevbtn"><a id="imgPrevbtn_a" href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                <li class="clear_bg"><label id="lblCalendarMsg" style="font-weight:bolder;font-size:1.5em;margin-top:1.5vh;color:black;">@TempData["datechoose"].ToString()</label></li>
                                <li class="Nextbtn"><a id="imgNextbtn_a" href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                <li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>
                            </ul>*@


                                            <div class="tab-content" id="pills-tabContent">
                                                <div class="tab-pane fade show active" id="pills-day" role="tabpanel" aria-labelledby="pills-home-tab">
                                                    @*<div id="select_ActivityID_index" class="" name="" english=""></div>*@
                                                    <table class="table table-bordered">
                                                        <thead class="bg-primary">
                                                            <tr>
                                                                <th class="text-white text-center">Time</th>
                                                                <th class="text-white text-center">Today's Activities</th>
                                                                <th class="text-white text-center">Venue</th>
                                                                <th class="text-white text-center">Attendance</th>
                                                                <th class="text-white text-center" colspan="2"></th>
                                                            </tr>
                                                            <tr>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center">Active</th>
                                                                <th class="text-white text-center">Declined</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @{
                                                                for (int a = 0; a < @ViewBag.Events.Count; a++)
                                                                {
                                                                    <tr name=@ViewBag.Events[a].ProgramId id=@ViewBag.Events[a].ProgramName englishname=@ViewBag.Events[a].ActivityNameEnglish>
                                                                        <td>@ViewBag.Events[a].ProgramStartTime</td>
                                                                        <td>@ViewBag.Events[a].ProgramName</td>
                                                                        <td>@ViewBag.Events[a].Venue</td>
                                                                        <td>
                                                                            <a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#">
                                                                                <i class="fa fa-file-text-o"></i>
                                                                            </a>
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events[a].Active
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events[a].Declined
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>





                        </div>

                        <div id="day_div2" class="fromHTMLtestdiv" style="display:none;margin-top:21vh;margin-left:-2.5%; z-index:0;position:absolute;width:105%;">

                            <div class="container-fluid container-fixed-lg" id="main_page">
                                <div class="card">
                                    <div class="card-block">
                                        <div class="form-tabs mt-4">

                                            @*<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-12vh;margin-left:38%;padding-bottom:5%;">

                                <li class="Prevbtn"><a href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                <li class="clear_bg"><label id="lblCalendarMsg2" style="font-weight:bolder;font-size:1.5em;margin-top:1.5vh;color:black">@TempData["datechoose"].ToString()</label></li>
                                <li class="Nextbtn"><a href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                <li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>
                            </ul>*@

                                            <div class="tab-content" id="pills-tabContent">
                                                <div class="tab-pane fade show active" id="pills-day" role="tabpanel" aria-labelledby="pills-home-tab">
                                                    @*<div id="select_ActivityID_index" class="" name="" english=""></div>*@
                                                    <table class="table table-bordered">
                                                        <thead class="bg-primary">
                                                            <tr>
                                                                <th class="text-white text-center">Time</th>
                                                                <th class="text-white text-center">Today's Activities</th>
                                                                <th class="text-white text-center">Venue</th>
                                                                <th class="text-white text-center">Attendance</th>
                                                                <th class="text-white text-center" colspan="2"></th>
                                                            </tr>
                                                            <tr>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center">Active</th>
                                                                <th class="text-white text-center">Declined</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @{
                                                                for (int a = 0; a < @ViewBag.Events2.Count; a++)
                                                                {
                                                                    <tr name=@ViewBag.Events2[a].ProgramId id=@ViewBag.Events2[a].ProgramName englishname=@ViewBag.Events2[a].ActivityNameEnglish>
                                                                        <td>@ViewBag.Events2[a].ProgramStartTime</td>
                                                                        <td>@ViewBag.Events2[a].ProgramName</td>
                                                                        <td>@ViewBag.Events2[a].Venue</td>
                                                                        <td>
                                                                            <a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#">
                                                                                <i class="fa fa-file-text-o"></i>
                                                                            </a>
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events2[a].Active
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events2[a].Declined
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>





                        </div>

                        <div id="day_div3" class="fromHTMLtestdiv" style="display:none;margin-top:21vh;margin-left:-2.5%; z-index:0;position:absolute;width:105%;">

                            <div class="container-fluid container-fixed-lg" id="main_page">
                                <div class="card">
                                    <div class="card-block">
                                        <div class="form-tabs mt-4">

                                            @*<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-12vh;margin-left:38%;padding-bottom:5%;">

                                <li class="Prevbtn"><a href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                <li class="clear_bg"><label id="lblCalendarMsg3" style="font-weight:bolder;font-size:1.5em;margin-top:1.5vh;color:black">@TempData["datechoose"].ToString()</label></li>
                                <li class="Nextbtn"><a href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                <li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>
                            </ul>*@

                                            <div class="tab-content" id="pills-tabContent">
                                                <div class="tab-pane fade show active" id="pills-day" role="tabpanel" aria-labelledby="pills-home-tab">
                                                    @*<div id="select_ActivityID_index" class="" name="" english=""></div>*@
                                                    <table class="table table-bordered">
                                                        <thead class="bg-primary">
                                                            <tr>
                                                                <th class="text-white text-center">Time</th>
                                                                <th class="text-white text-center">Today's Activities</th>
                                                                <th class="text-white text-center">Venue</th>
                                                                <th class="text-white text-center">Attendance</th>
                                                                <th class="text-white text-center" colspan="2"></th>
                                                            </tr>
                                                            <tr>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center">Active</th>
                                                                <th class="text-white text-center">Declined</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @{
                                                                for (int a = 0; a < @ViewBag.Events3.Count; a++)
                                                                {
                                                                    <tr name=@ViewBag.Events3[a].ProgramId id=@ViewBag.Events3[a].ProgramName englishname=@ViewBag.Events3[a].ActivityNameEnglish>
                                                                        <td>@ViewBag.Events3[a].ProgramStartTime</td>
                                                                        <td>@ViewBag.Events3[a].ProgramName</td>
                                                                        <td>@ViewBag.Events3[a].Venue</td>
                                                                        <td>
                                                                            <a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#">
                                                                                <i class="fa fa-file-text-o"></i>
                                                                            </a>
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events3[a].Active
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events3[a].Declined
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>





                        </div>

                        <div id="day_div4" class="fromHTMLtestdiv" style="display:none;margin-top:21vh;margin-left:-2.5%; z-index:0;position:absolute;width:105%;">

                            <div class="container-fluid container-fixed-lg" id="main_page">
                                <div class="card">
                                    <div class="card-block">
                                        <div class="form-tabs mt-4">

                                            @*<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-top:-12vh;margin-left:38%;padding-bottom:5%;">

                                <li class="Prevbtn"><a href="#" onclick="previousday_mike()"><img id="imgPrevbtn" src="~/Content/pages/img/previous.png" alt="" /></a> </li>
                                <li class="clear_bg"><label id="lblCalendarMsg4" style="font-weight:bolder;font-size:1.5em;margin-top:1.5vh;color:black">@TempData["datechoose"].ToString()</label></li>
                                <li class="Nextbtn"><a href="#" onclick="nextday_mike()"><img id="imgNextbtn" src="~/Content/pages/img/next.png" alt="" /></a></li>
                                <li class="Goto_Today"><button class="btn btn-primary text-white" onclick="Goto_Today()" style="border-radius:1vw;margin-top:2%;margin-left:30vw;">Today</button></li>
                            </ul>*@

                                            <div class="tab-content" id="pills-tabContent">
                                                <div class="tab-pane fade show active" id="pills-day" role="tabpanel" aria-labelledby="pills-home-tab">
                                                    @*<div id="select_ActivityID_index" class="" name="" english=""></div>*@
                                                    <table class="table table-bordered">
                                                        <thead class="bg-primary">
                                                            <tr>
                                                                <th class="text-white text-center">Time</th>
                                                                <th class="text-white text-center">Today's Activities</th>
                                                                <th class="text-white text-center">Venue</th>
                                                                <th class="text-white text-center">Attendance</th>
                                                                <th class="text-white text-center" colspan="2"></th>
                                                            </tr>
                                                            <tr>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center"></th>
                                                                <th class="text-white text-center">Active</th>
                                                                <th class="text-white text-center">Declined</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @{
                                                                for (int a = 0; a < @ViewBag.Events4.Count; a++)
                                                                {
                                                                    <tr name=@ViewBag.Events4[a].ProgramId id=@ViewBag.Events4[a].ProgramName englishname=@ViewBag.Events4[a].ActivityNameEnglish>
                                                                        <td>@ViewBag.Events4[a].ProgramStartTime</td>
                                                                        <td>@ViewBag.Events4[a].ProgramName</td>
                                                                        <td>@ViewBag.Events4[a].Venue</td>
                                                                        <td>
                                                                            <a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#">
                                                                                <i class="fa fa-file-text-o"></i>
                                                                            </a>
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events4[a].Active
                                                                        </td>
                                                                        <td>
                                                                            @ViewBag.Events4[a].Declined
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>





                        </div>

                        <div class="modal" id="attendent_form" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div id="contactForm" class="modal" style="display:none">
                                <h3>Add Progress Notes</h3>
                                <br>
                                <form action="#">
                                    <textarea class="formtext" id="formtextarea" placeholder="Comment" style="height:170px;width:300px"></textarea>
                                    <input class="formBtn" type="button" value="Submit" onclick="progressnoteadd(this)" />
                                    <input class="formBtn" type="button" value="Reset" onclick="document.getElementById('formtextarea').value=''" />
                                    <input class="formBtn" type="button" value="Close" onclick="note_close_click()" />
                                </form>
                            </div>

                            <div class="modal-xlg" role="document" id="attendent_form_second_layer">
                                <div class="modal-content" id="attendent_form_third_layer">
                                    <div class="modal-header">
                                        <h3 class="modal-title" id="exampleModalLabel" style="font-weight:bolder;">Activity Attendance</h3>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="x_close()">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="form-tabs mt-4">
                                            <div class="row">
                                                <div class="" style="width:35% !important;">
                                                    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                                                        <li class="nav-item">
                                                            <a style="font-size:1.2vw;" class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home1" role="tab" aria-controls="pills-home" aria-selected="true">Search View</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a style="font-size:1.2vw;" class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile1" role="tab" aria-controls="pills-profile" aria-selected="false">List View</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a style="font-size:1.2vw;" class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact1" role="tab" aria-controls="pills-contact" aria-selected="false">Floor View</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>



                                            <div class="tab-content" id="pills-tabContent">
                                                <div class="tab-pane fade show active" id="pills-home1" role="tabpanel" aria-labelledby="pills-home-tab">
                                                    <div class="row">
                                                        <div class="col-md-3"  style="width:25% !important;">
                                                            <div class="form-group row">
                                                                <label class="col-md-12 col-form-label" style="margin-left:5vw">Resident Name / Suite # :</label>
                                                                <div class="col-md-12" style="margin-left:5vw">
                                                                    <input type="text" class="form-control" id="searchresidents3" style="width:90%;" onchange="change_searchresidents3()">
                                                                </div>
                                                            </div>
                                                            <div class="searchBox p-1" id="searchBoxfor3" style="margin-left:5.5vw">
                                                                <div class="list-group searchboxresult2">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="" style="width:50% !important;">

                                                            <div class="form-group">
                                                                <br><br>
                                                                <div class="row">
                                                                    <div class="col-md-12 pads" style="margin-left:4%">
                                                                        <div class="form-check form-check-inline">
                                                                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                                                                            <label class="form-check-label" name="viewlistchoose" style="font-size:0.9vw;">Active</label>
                                                                        </div>
                                                                        <div class="form-check form-check-inline">
                                                                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                                                                            <label class="form-check-label" name="viewlistchoose" style="font-size:0.9vw;">Passive</label>
                                                                        </div>
                                                                        <div class="form-check form-check-inline">
                                                                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                                                                            <label class="form-check-label" name="viewlistchoose" style="font-size:0.9vw;">Declined</label>
                                                                        </div>
                                                                        <div class="form-check form-check-inline">
                                                                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                                                                            <label class="form-check-label" name="viewlistchoose" style="font-size:0.9vw;">Away</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="" style="display:inline-block;width:20% !important;">
                                                            <br>
                                                            <button class="btn btn-lg btn-danger" onclick="View_List_add()" style="margin-left:-2vw;font-size:1vw;">ADD</button>
                                                            <button type="button" class="btn btn-lg btn-primary" data-dismiss="modal" onclick="View_List_save()">SAVE</button>
                                                        </div>

                                                        <div class="" style="border:1px solid #000;margin-left:15vw">
                                                            <table class="attend" style="min-width:50vw">
                                                                <tbody id="show_list"></tbody>
                                                            </table>
                                                        </div>


                                                        <div class="col-md-12 text-center">
                                                            <br><br><br><br><br><br>
                                                            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="View_List_save()" style="margin-left:-2vw;">SAVE</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="pills-profile1" role="tabpanel" aria-labelledby="pills-profile-tab">
                                                    <div class="row" style="overflow:auto;height:73vh;">

                                                        <div class="col-md-12 text-center">
                                                            <br>
                                                            <button type="button" class="btn btn-primary" style="margin-bottom:1vw;margin-left:3vw;" data-dismiss="modal" onclick="list_savebutton()">SAVE</button>
                                                            <button type="button" class="btn btn-primary" id="PrintID1" style="margin-bottom:1vw;float:right" onclick="Print_list()">Print</button>
                                                        </div>
                                                        <br>
                                                        <div class="col-md-6" style="border: 1px solid #000;">
                                                            <table class="attend" id="list_table" style="width:100%;">
                                                                <tbody>
                                                                    @{
                                                                        for (int i = 0; i < Model.LIST_RESIDENT.Count; i = i + 2)
                                                                        {
                                                                            var a = Model.LIST_RESIDENT[i];
                                                                            <tr name=@a.ID>
                                                                                <td style="max-width:10vw">@a.FirstName @a.LastName</td>
                                                                                <td>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option1">
                                                                                        <label class="form-check-label">Active</label>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option2">
                                                                                        <label class="form-check-label">Passive</label>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option3">
                                                                                        <label class="form-check-label">Declined</label>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option4">
                                                                                        <label class="form-check-label">Away</label>
                                                                                    </div>
                                                                                </td>
                                                                                <td>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input type="image" style="width:1.7vw;height:1.7vw" src="/Content/pages/img/icoedit.png" onclick="progressnote(this)">
                                                                                    </div>
                                                                                </td>
                                                                            </tr>

                                                                        }
                                                                    }
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <div class="col-md-6" style="border: 1px solid #000;">
                                                            <table class="attend"  id="list_table2"  style="width:100%;">
                                                                <tbody>
                                                                    @for (int i = 1; i < Model.LIST_RESIDENT.Count; i = i + 2)
                                                                    {
                                                                        var a = Model.LIST_RESIDENT[i];
                                                                        <tr name=@a.ID>
                                                                            <td style="max-width:10vw">@a.FirstName @a.LastName</td>
                                                                            <td>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option1">
                                                                                    <label class="form-check-label">Active</label>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option2">
                                                                                    <label class="form-check-label">Passive</label>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option3">
                                                                                    <label class="form-check-label">Declined</label>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input class="form-check-input" type="radio" name=@a.ID id="inlineRadio2" value="option4">
                                                                                    <label class="form-check-label">Away</label>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input type="image" style="width:1.7vw;height:1.7vw" src="/Content/pages/img/icoedit.png" onclick="progressnote(this)">
                                                                                </div>
                                                                            </td>
                                                                        </tr>

                                                                    }
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <div class="col-md-12 text-center">
                                                            <br><br><br><br><br><br>
                                                            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="list_savebutton()">SAVE</button>
                                                            <button type="button" class="btn btn-secondary" onclick="list_clearbutton()">CLEAR</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="pills-contact1" role="tabpanel" aria-labelledby="pills-contact-tab">
                                                    <div class="row" style="overflow:auto;height:73vh;">
                                                        <div class="col-md-12 text-center">
                                                            <br>
                                                            <button type="button" class="btn btn-primary" style="margin-bottom:1vw;margin-left:3vw;" data-dismiss="modal" onclick="floor_savebutton()">SAVE</button>

                                                            <button type="button" class="btn btn-primary" id="PrintID2" style="margin-bottom:1vw;float:right" onclick="Print_floor()">Print</button>
                                                        </div>
                                                        @{
                                                            int floor = 0;
                                                            foreach (var a in Model.LIST_RESIDENT)
                                                            {
                                                                if (a.No_of_floor > floor)
                                                                {
                                                                    floor = a.No_of_floor;
                                                                }
                                                            }

                                                            for (int b = 1; b <= floor; b++)
                                                            {
                                                                <div class="col-md-6" style="border:1px solid #000;">
                                                                    <table class="attend" id="list_table3"  style="width:100%;">
                                                                        <tbody>
                                                                            <tr>
                                                                                <th colspan="7" height=50vw>
                                                                                    @{
                                                                                        string gg = "";
                                                                                        if (b == 1)
                                                                                        {
                                                                                            gg = b.ToString() + "st";
                                                                                        }
                                                                                        else if (b == 2)
                                                                                        {
                                                                                            gg = b.ToString() + "nd";
                                                                                        }
                                                                                        else if (b == 3)
                                                                                        {
                                                                                            gg = b.ToString() + "rd";
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            gg = b.ToString() + "th";
                                                                                        }
                                                                                    }
                                                                                    @gg Floor
                                                                                </th>
                                                                            </tr>
                                                                            @foreach (var a in Model.LIST_RESIDENT)
                                                                            {
                                                                                if (a.No_of_floor == b)
                                                                                {
                                                                                    <tr name=@a.ID>
                                                                                        <td>@a.FirstName @a.LastName</td>
                                                                                        <td>
                                                                                            <div class="form-check form-check-inline">
                                                                                                <input class="form-check-input" type="radio" name=@a.ID+ id="inlineRadio2" value="option1">
                                                                                                <label class="form-check-label">Active</label>
                                                                                            </div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="form-check form-check-inline">
                                                                                                <input class="form-check-input" type="radio" name=@a.ID+ id="inlineRadio2" value="option2">
                                                                                                <label class="form-check-label">Passive</label>
                                                                                            </div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="form-check form-check-inline">
                                                                                                <input class="form-check-input" type="radio" name=@a.ID+ id="inlineRadio2" value="option3">
                                                                                                <label class="form-check-label">Declined</label>
                                                                                            </div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="form-check form-check-inline">
                                                                                                <input class="form-check-input" type="radio" name=@a.ID+ id="inlineRadio2" value="option4">
                                                                                                <label class="form-check-label">Away</label>
                                                                                            </div>
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="form-check form-check-inline">
                                                                                                <input type="image" style="width:1.7vw;height:1.7vw" src="/Content/pages/img/icoedit.png" onclick="progressnote(this)">
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            }
                                                        }

                                                        <div class="col-md-12 text-center">
                                                            <br><br><br><br><br><br>
                                                            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="floor_savebutton()">SAVE</button>
                                                            <button type="button" class="btn btn-secondary" onclick="floor_clearbutton()">CLEAR</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer text-center">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="Calendar_Name_Change" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="vertical-alignment-helper" style="display:table;height:100%;width: 100%;pointer-events:none;">
                                <div class="modal-dialog vertical-align-center" style="display:table-cell;vertical-align:middle;pointer-events:none;">
                                    <div class="modal-content" style="width:inherit;max-width:inherit;height:inherit;margin-left:-20% !important;pointer-events: all;">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">
                                                <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>

                                            </button>
                                            <h4 class="modal-title" id="myModalLabel" style="font-weight:bold;">Calendar Name Change</h4>
                                        </div>
                                        <hr><br>
                                        <div class="modal-body">
                                            <label style="font-weight:bold;font-size:1em;width:40%;">Calendar Number:</label>
                                            <label class="text-center" id="calendarnumber" style="width:20%;"></label>
                                            <br><br>
                                            <label style="font-weight:bold;font-size:1em;width:40%;">Old Calendar Name:</label>
                                            <label id="oldName" style="width:40%;"></label>
                                            <br><br>
                                            <label style="font-weight:bold;font-size:1em;width:40%;">New Calendar Name:</label>
                                            <input type="text" id="newName" style="width:40%;" />
                                            <input id="hiddenID" type="hidden" value="" />
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-primary" onclick="Save_Change_Name()">Save changes</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="select_ActivityID_index" class="" name="" english=""></div>
                        <input type="hidden" id="hiddentab" value="@TempData["tab"]" />

                        <div class="modal fade" id="AddEvent" role="dialog" style="right:0">
                            <div class="modal-dialog" style="left:0;right:0;max-width:100%;width:65vw;">
                                <div class="modal-content">

                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h1 class="modal-title" style="font-weight:bolder;color:black;margin-left:2%;">Add Event</h1>
                                    </div>
                                    <hr>
                                    <div class="modal-body">
                                        <form action="/Home/AddEvents_mike" method="post" id="addEventForm" name="addEventForm">
                                            <div id="ck" class="">

                                                <div style="padding: 15px; width: 100%; display:inline-block;">

                                                    <div class="tab-pane fade show active" id="pills-InternalTransfer" role="tabpanel" aria-labelledby="pills-contact-tab">
                                                        <br>
                                                        <div class="row">
                                                            <div class="col-md-12"></div>
                                                            <div class="col-md-12" id="display_title">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">ACTIVITY DISPLAY TITLE<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="text" class="form-control" id="display_title_input" name="title">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12" id="activity" style="margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">ACTIVITY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        @*<select id="activity_select" class="form-control" name="activity" onfocus="activityonclick(this)">*@
                                                                        <select id="activity_select" class="form-control" name="activity" style="background-color:white;">
                                                                            <option value="">-- Select --</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12" id="frequency" style="margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">FREQUENCY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7" id="frequency_div">
                                                                        <input type="radio" class="radio-primary" name="frequency" value="1" checked />
                                                                        <label for="" class="col-form-label">Date & Time</label>
                                                                        <input type="radio" class="radio-primary" name="frequency" value="2" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Every Weekday</label>
                                                                        <input type="radio" class="radio-primary" name="frequency" value="3" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Date Between</label>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="col-md-12" id="dateandtime" style="margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE & TIME<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="datetime-local" class="form-control" id="dateandtime_input" name="startDateTime" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="weekday" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">WEEK DAY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <select id="weekday_select" class="form-control" name="weekday">
                                                                            <option value="">-- Select --</option>
                                                                            <option value="Monday">Monday</option>
                                                                            <option value="Tuesday">Tuesday</option>
                                                                            <option value="Wednesday">Wednesday</option>
                                                                            <option value="Thursday">Thursday</option>
                                                                            <option value="Friday">Friday</option>
                                                                            <option value="Saturday">Saturday</option>
                                                                            <option value="Sunday">Sunday</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="datefrom" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE FROM<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="date" class="form-control" id="datefrom_input" name="datefrom" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="dateto" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE TO<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="date" class="form-control" id="dateto_input" name="dateto" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="time" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">TIME<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="time" class="form-control" id="time_input" name="time" />
                                                                    </div>
                                                                </div>
                                                            </div>



                                                            <div class="col-md-12" id="venue" style="margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4  col-form-label">VENUE</label>
                                                                    <div class="col-md-7">
                                                                        <select id="venue_select" class="form-control" name="venue">
                                                                            <option value="">-- Select --</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            @*<div class="col-md-12" id="description" style="margin-top:1vw;">
            <div class="form-group row">
                <label for="" class="col-md-4 col-form-label">DESCRIPTION</label>
                <div class="col-md-7">
                    <textarea class="textarea" id="description_textarea" rows="5" style="width:65% !important;max-width:100%;float:left;" name="description"></textarea>
                </div>
            </div>
        </div>*@
                                                        </div>

                                                    </div>


                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <div class="row">
                                            <div class="col-md-12 text-center">
                                                <button class="btn btn-lg" data-dismiss="modal" onclick="cancel1()">
                                                    CANCEL
                                                </button>
                                                <button class="btn btn-primary btn-lg" type="submit" form="addEventForm">
                                                    SAVE
                                                </button>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="EditEvent" role="dialog" style="right:0">
                            <div class="modal-dialog" style="left:0;right:0;max-width:100%;width:65vw;">
                                <div class="modal-content">

                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h1 class="modal-title" style="font-weight:bolder;color:black;margin-left:2%;">Edit Event</h1>
                                    </div>
                                    <hr>
                                    <div class="modal-body">
                                        <form action="/Home/AddEvents_mike_EDIT" method="post" id="addEventForm2" name="addEventForm2">
                                            <div id="ck" class="">

                                                <div style="padding: 15px; width: 100%; display:inline-block;">

                                                    <div class="tab-pane fade show active" id="pills-InternalTransfer" role="tabpanel" aria-labelledby="pills-contact-tab">
                                                        <br>
                                                        <div class="row">
                                                            <div class="col-md-12"></div>
                                                            <div class="col-md-12" id="display_title">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">ACTIVITY DISPLAY TITLE<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="text" class="form-control" id="display_title_input" name="title">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12" id="activity" style="margin-top:1vw;">
                                                                <div class="form-group">
                                                                    <label for="" class="col-md-4 col-form-label">ACTIVITY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <select id="activity_select2" class="form-control" name="activity">
                                                                            <option value="">-- Select --</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12" id="frequency" style="margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">FREQUENCY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7" id="frequency_div">
                                                                        <input type="radio" class="radio-primary" name="frequency" value="1" checked />
                                                                        <label for="" class="col-form-label">Date & Time</label>
                                                                        <input type="radio" class="radio-primary" name="frequency" value="2" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Every Weekday</label>
                                                                        <input type="radio" class="radio-primary" name="frequency" value="3" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Date Between</label>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="col-md-12" id="dateandtime" style="margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE & TIME<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="datetime-local" class="form-control" id="dateandtime_input" name="startDateTime" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="weekday" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">WEEK DAY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <select id="weekday_select" class="form-control" name="weekday">
                                                                            <option value="">-- Select --</option>
                                                                            <option value="Monday">Monday</option>
                                                                            <option value="Tuesday">Tuesday</option>
                                                                            <option value="Wednesday">Wednesday</option>
                                                                            <option value="Thursday">Thursday</option>
                                                                            <option value="Friday">Friday</option>
                                                                            <option value="Saturday">Saturday</option>
                                                                            <option value="Sunday">Sunday</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="datefrom" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE FROM<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="date" class="form-control" id="datefrom_input" name="datefrom" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="dateto" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE TO<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="date" class="form-control" id="dateto_input" name="dateto" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="time" style="display:none;margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">TIME<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="time" class="form-control" id="time_input" name="time" />
                                                                    </div>
                                                                </div>
                                                            </div>



                                                            <div class="col-md-12" id="venue" style="margin-top:1vw;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4  col-form-label">VENUE</label>
                                                                    <div class="col-md-7">
                                                                        <select id="venue_select2" class="form-control" name="venue">
                                                                            <option value="">-- Select --</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <input type="hidden" id="EventID" value="" />
                                                            <input type="hidden" id="TrueFalseIndex" value="false" />


                                                            @*<div class="col-md-12" id="description" style="margin-top:1vw;">
            <div class="form-group row">
                <label for="" class="col-md-4 col-form-label">DESCRIPTION</label>
                <div class="col-md-7">
                    <textarea class="textarea" id="description_textarea" rows="5" style="width:65% !important;max-width:100%;float:left;" name="description"></textarea>
                </div>
            </div>
        </div>*@
                                                        </div>

                                                    </div>


                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <div class="row">
                                            <div class="col-md-12 text-center">
                                                <button class="btn btn-lg" data-dismiss="modal" onclick="cancel1()">
                                                    CANCEL
                                                </button>
                                                <button class="btn btn-primary btn-lg" type="submit" form="addEventForm2">
                                                    UPDATE
                                                </button>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="ADD_CANCEL" role="dialog" style="margin-top:15%;">
                            <div class="modal-dialog" style="left:0;right:0;width:20%;">
                                <div class="modal-content" style="background-color:lightgray">

                                    <div class="text-center" id="ADD_CANCEL_title" style="font-weight:bold;font-size:1.3vw;margin-top:5%;"></div>

                                    <div class="modal-body">
                                        <div style="width: 100%; display:block;margin-top:8%;">
                                            <div class="row">
                                                <div class="" style="margin:0 auto;width:90%;">
                                                    <div id="ADD">
                                                        <a class="btn btn-primary btn-lg" href="#" data-toggle="modal" data-target="#AddEvent" style="width:100%;" onclick="add_event_small_div(this)">ADD EVENT</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="CopyDivID" class="row" style="margin-top:1.5vw;display:none;">
                                                <div class="" style="margin:0 auto;width:90%;">
                                                    <div id="COPY">
                                                        <input type="hidden" id="CopyEventID" value="" />
                                                        <button class="btn btn-danger btn-lg" style="width:100%;" onclick="copyEvent_End(this)">PASTE</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" style="margin-top:1.5vw;">
                                                <div class="" style="margin:0 auto;width:90%;">
                                                    <div id="CANCEL">
                                                        <a class="btn btn-primary btn-lg" style="width:100%;" onclick="cancel_for_AddCancel()">CANCEL</a>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>



                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="EDIT_COPY_DELETE_CANCEL" role="dialog" style="margin-top:15%;">
                            <input type="hidden" id="Event_Special" value=""/>
                            <div class="modal-dialog" style="left:0;right:0;width:20%;">
                                <div class="modal-content" style="background-color:lightgray">

                                    <div class="text-center" id="EDIT_COPY_DELETE_CANCEL_title" style="font-weight:bold;font-size:1.3vw;margin-top:5%;"></div>

                                    <div class="modal-body">
                                        <div style="width: 100%; display:block;margin-top:8%;">
                                            <div class="row">
                                                <div class="" style="margin:0 auto;width:90%;">
                                                    <div id="EDIT">
                                                        <a class="btn btn-primary btn-lg" href="#" data-toggle="modal" style="width:100%;" onclick="EditEvent(this)">Edit EVENT</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" style="margin-top:1.1vw;">
                                                <div class="" style="margin:0 auto;width:90%;">
                                                    <div id="COPY">
                                                        <a class="btn btn-primary btn-lg" href="#" data-toggle="modal" data-target="" style="width:100%;" onclick="copyEvent_Start(this)">Copy EVENT</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" style="margin-top:1.1vw;">
                                                <div class="" style="margin:0 auto;width:90%;">
                                                    <div id="DELETE">
                                                        <a class="btn btn-primary btn-lg" href="#" data-toggle="modal" data-target="" style="width:100%;" onclick="deleteEvent(this)">Delete EVENT</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" style="margin-top:1.1vw;">
                                                <div class="" style="margin:0 auto;width:90%;">
                                                    <div id="CANCEL">
                                                        <a class="btn btn-primary btn-lg" style="width:100%;" onclick="document.getElementById('EDIT_COPY_DELETE_CANCEL').className='modal fade'">CANCEL</a>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <input type="hidden" id="DWM" value="" />

                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="AddEvent_Hannan" role="dialog" style="right:0">
                            <div class="modal-dialog" style="left:0;right:0;max-width:100%;width:65vw;">
                                <div class="modal-content">

                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h1 class="modal-title" style="font-weight:bolder;color:black;margin-left:2%;">Add Special Event</h1>
                                    </div>
                                    <hr>
                                    <div class="modal-body">
                                        <form action="/Home/AddEvents_mike_Special" method="post" id="addSpecialEventForm" name="addSpecialEventForm">
                                            <div id="ck" class="">

                                                <div style="padding:15px 0px 15px 15px; width: 100%; display:inline-block;">

                                                    <div class="tab-pane fade show active" id="pills-InternalTransfer" role="tabpanel" aria-labelledby="pills-contact-tab">
                                                        
                                                        <div class="row">
                                                            <div class="col-md-12"></div>
                                                            <div class="col-md-12" id="AddType" style="margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">Add Type<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7" id="AddType_div">
                                                                        <input type="radio" class="radio-primary" name="AddType" value="1" checked />
                                                                        <label for="" class="col-form-label">All Building</label>
                                                                        <input type="radio" class="radio-primary" name="AddType" value="2" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Choose Province</label>
                                                                        <input type="radio" class="radio-primary" name="AddType" value="3" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Choose Buildings</label>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="Province" style="margin-top:1vh;display:none;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">Province<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <select class="form-control" id="ProvinceSelect">
                                                                            <option value="1">Alberta</option>
                                                                            <option value="2">British Columbia</option>
                                                                            <option value="3">British Columbia</option>
                                                                            <option value="4">New Brunswick</option>
                                                                            <option value="5">Newfoundland and Labrador</option>
                                                                            <option value="6">Northwest Territories</option>
                                                                            <option value="7">Nova Scotia</option>
                                                                            <option value="8">Nunavut</option>
                                                                            <option value="9">Ontario</option>
                                                                            <option value="10">Prince Edward Island</option>
                                                                            <option value="11">Saskatchewan</option>
                                                                            <option value="12">Yukon</option>
                                                                            <option value="13">Quebec</option>
                                                                        </select>
                                                                    </div>

                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="Buildings" style="margin-top:1vh;display:none;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">Buildings<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <div class="form-group">
                                                                            
                                                                            <div class="multiselect" style="width:99%;">
                                                                                <div class="selectBox" onclick="">
                                                                                    <select class="form-control" style="height: 5vh;">
                                                                                        <option>&nbsp;&nbsp;&nbsp;-- Select --</option>
                                                                                    </select>
                                                                                    <div class="overSelect"></div>
                                                                                </div>
                                                                                <div id="checkboxes" style="min-width:50%;">
                                                                                    @*<label for="0"><input type="checkbox" id="0" value="0" class="ALL_check" />ALL</label>*@
                                                                                    <label for="15"><input type="checkbox" id="15" value="15" />Auburn Heights Retirement Residence</label>
                                                                                    <label for="5"><input type="checkbox" id="5" value="5" /> Laurel Heights Retirement Residence </label>
                                                                                    <label for="26"><input type="checkbox" id="26" value="26" />Lewis Estates</label>
                                                                                    <label for="35"><input type="checkbox" id="35" value="35" />Mactaggart Place Retirement Residence</label>
                                                                                    <label for="1"><input type="checkbox" id="1" value="1" /> Rutherford Heights Retirement Residence </label>
                                                                                    <label for="33"><input type="checkbox" id="33" value="33" />Sage Hill Retirement Residence</label>
                                                                                    <label for="31"><input type="checkbox" id="31" value="31" />St. Albert Retirement Residence</label>
                                                                                    <label for="3"><input type="checkbox" id="3" value="3" /> Summerwood Village Retirement Residence </label>
                                                                                    <label for="30"><input type="checkbox" id="30" value="30" />River Ridge 2 Retirement Residence</label>
                                                                                    <label for="4"><input type="checkbox" id="4" value="4" /> River Ridge Retirement Residence </label>
                                                                                    <label for="17"><input type="checkbox" id="17" value="17" />Seine River Retirement Residence</label>
                                                                                    <label for="6"><input type="checkbox" id="6" value="6" /> Shaftesbury Park Retirement Residence </label>
                                                                                    <label for="18"><input type="checkbox" id="18" value="18" />Sturgeon Creek I Retirement Residence</label>
                                                                                    <label for="13"><input type="checkbox" id="13" value="13" />Sturgeon Creek II Retirement Residence</label>
                                                                                    <label for="12"><input type="checkbox" id="12" value="12" />Victoria Landing Retirement Residence</label>
                                                                                    <label for="2"><input type="checkbox" id="2" value="2" /> Beacon Heights Retirement Residence </label>
                                                                                    <label for="7"><input type="checkbox" id="7" value="7" /> Cedarcroft Place Retirement Residence </label>
                                                                                    <label for="27"><input type="checkbox" id="27" value="27" />Chapel Hill Retirement Residence</label>
                                                                                    <label for="32"><input type="checkbox" id="32" value="32" />Cit&#233; Parkway Retirement Residence</label>
                                                                                    <label for="34"><input type="checkbox" id="34" value="34" />Eagleson Retirement Residence</label>
                                                                                    <label for="28"><input type="checkbox" id="28" value="28" />Mccarthy Place</label>
                                                                                    <label for="29"><input type="checkbox" id="29" value="29" />Sample</label>
                                                                                    <label for="16"><input type="checkbox" id="16" value="16" />College Park II Retirement Residence</label>
                                                                                    <label for="8"><input type="checkbox" id="8" value="8" /> College Park Retirement Residence </label>
                                                                                    <label for="14"><input type="checkbox" id="14" value="14" />Preston Park II Retirement Residence</label>
                                                                                    <label for="11"><input type="checkbox" id="11" value="11" />Preston Park Retirement Residence</label>
                                                                                    <label for="20"><input type="checkbox" id="20" value="20" />465, Boulevard De La Gappe</label>
                                                                                    <label for="21"><input type="checkbox" id="21" value="21" />475 Boulevard De La Gappe</label>
                                                                                    <label for="22"><input type="checkbox" id="22" value="22" />485 Boulevard De La Gappe</label>
                                                                                    <label for="23"><input type="checkbox" id="23" value="23" />495 Boulevard De La Gappe</label>
                                                                                    <label for="19"><input type="checkbox" id="19" value="19" />Chateau Symmes Retirement Residence</label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="display_title">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">ACTIVITY DISPLAY TITLE<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="text" class="form-control" id="display_title_input" name="title">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12" id="activity" style="margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">ACTIVITY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        @*<select id="activity_select" class="form-control" name="activity" onfocus="activityonclick(this)">*@
                                                                        <select id="activity_select3" class="form-control" name="activity" style="background-color:white;">
                                                                            <option value="">-- Select --</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12" id="frequency" style="margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">FREQUENCY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7" id="frequency_div">
                                                                        <input type="radio" class="radio-primary" name="frequency" value="1" checked />
                                                                        <label for="" class="col-form-label">Date & Time</label>
                                                                        <input type="radio" class="radio-primary" name="frequency" value="2" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Every Weekday</label>
                                                                        <input type="radio" class="radio-primary" name="frequency" value="3" style="margin-left:1vw;" />
                                                                        <label for="" class="col-form-label">Date Between</label>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="col-md-12" id="dateandtime" style="margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE & TIME<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="datetime-local" class="form-control" id="dateandtime_input" name="startDateTime" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="weekday" style="display:none;margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">WEEK DAY<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <select id="weekday_select" class="form-control" name="weekday">
                                                                            <option value="">-- Select --</option>
                                                                            <option value="Monday">Monday</option>
                                                                            <option value="Tuesday">Tuesday</option>
                                                                            <option value="Wednesday">Wednesday</option>
                                                                            <option value="Thursday">Thursday</option>
                                                                            <option value="Friday">Friday</option>
                                                                            <option value="Saturday">Saturday</option>
                                                                            <option value="Sunday">Sunday</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="datefrom" style="display:none;margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE FROM<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="date" class="form-control" id="datefrom_input" name="datefrom" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="dateto" style="display:none;margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">DATE TO<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="date" class="form-control" id="dateto_input" name="dateto" />
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12" id="time" style="display:none;margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4 col-form-label">TIME<span class="required_sign">&nbsp;*</span></label>
                                                                    <div class="col-md-7">
                                                                        <input type="time" class="form-control" id="time_input" name="time" />
                                                                    </div>
                                                                </div>
                                                            </div>



                                                            <div class="col-md-12" id="venue" style="margin-top:1vh;">
                                                                <div class="form-group row">
                                                                    <label for="" class="col-md-4  col-form-label">VENUE</label>
                                                                    <div class="col-md-7">
                                                                        <select id="venue_select3" class="form-control" name="venue">
                                                                            <option value="">-- Select --</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>

                                                    </div>


                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <div class="row">
                                            <div class="col-md-12 text-center">
                                                <button class="btn btn-lg" data-dismiss="modal">
                                                    CANCEL
                                                </button>
                                                <button class="btn btn-primary btn-lg" type="submit" form="addSpecialEventForm">
                                                    SAVE
                                                </button>
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>




                    <!-- END CONTAINER FLUID -->
                </div>
                <!-- END PAGE CONTENT -->
            </div>
        </div>
    </div>














    @*@RenderPage("~/Views/Shared/_Footer.cshtml")*@
</body>
</html>


<script src="~/Content/assets/plugins/pace/pace.min.js" type="text/javascript"></script>
<script src="~/Content/assets/plugins/modernizr.custom.js" type="text/javascript"></script>
<script src="~/Content/assets/plugins/tether/js/tether.min.js" type="text/javascript"></script>
<script src="~/Content/assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="~/Content/assets/plugins/jquery/jquery-easy.js" type="text/javascript"></script>
<script src="~/Content/assets/plugins/jquery-unveil/jquery.unveil.min.js" type="text/javascript"></script>
<script src="~/Content/assets/plugins/jquery-bez/jquery.bez.min.js"></script>
<script src="~/Content/assets/plugins/jquery-ios-list/jquery.ioslist.min.js" type="text/javascript"></script>
<script src="~/Content/assets/plugins/imagesloaded/imagesloaded.pkgd.min.js"></script>
<script src="~/Content/assets/plugins/jquery-actual/jquery.actual.min.js"></script>
<script src="~/Content/assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js"></script>
<!-- END VENDOR JS -->
<!-- BEGIN CORE TEMPLATE JS -->
<script src="~/Content/pages/js/pages.js" type="text/javascript"></script>
<!-- END CORE TEMPLATE JS -->
<!-- BEGIN PAGE LEVEL JS -->
<script src="~/Content/assets/js/scripts.js" type="text/javascript"></script>
<!-- END PAGE LEVEL JS -->
<script src="~/Content/assets/js/FileAPI/FileAPI.js"></script>
<script src="~/Content/assets/js/datatables.min.js"></script>
<script src="https://unpkg.com/jspdf@latest/dist/jspdf.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="~/Content/assets/js/html2canvas.js" crossorigin="anonymous"></script>





<script>

    function calendar_one() {
        //var b = $('.fc-basicWeek-button');
        //b[0].className = "fc-basicWeek-button fc-button fc-state-default";
        //var c = $('.fc-month-button');
        //c[0].className = "fc-month-button fc-button fc-state-default fc-corner-left";
        //$('.fc-center').hide();
        //$('.fc-right').hide();
        //$('#calendar1Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div2').hide();
        $('#day_div3').hide();
        $('#day_div4').hide();
        $('#day_div').show();
        $('#hiddentab').val("a");

        var temp = $('#tempdate').val();
        $('#lblCalendarMsg').html(temp);

        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        resetbuttoncolor();
        $('.hannahselector').hide();
    }

    function calendar_two() {
        //var b = $('.fc-basicWeek-button');
        //b[1].className = "fc-basicWeek-button fc-button fc-state-default";
        //var c = $('.fc-month-button');
        //c[1].className = "fc-month-button fc-button fc-state-default fc-corner-left";
        //$('.fc-center').hide();
        //$('.fc-right').hide();
        //$('#calendar2Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div').hide();
        $('#day_div3').hide();
        $('#day_div4').hide();
        $('#day_div2').show();

        $('#hiddentab').val("b");

        var temp = $('#tempdate').val();
        $('#lblCalendarMsg2').html(temp);

        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        resetbuttoncolor();
        $('.hannahselector').hide();
    }

    function calendar_three() {
        //var b = $('.fc-basicWeek-button');
        //b[2].className = "fc-basicWeek-button fc-button fc-state-default";
        //var c = $('.fc-month-button');
        //c[2].className = "fc-month-button fc-button fc-state-default fc-corner-left";
        //$('.fc-center').hide();
        //$('.fc-right').hide();
        //$('#calendar3Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div').hide();
        $('#day_div2').hide();
        $('#day_div4').hide();
        $('#day_div3').show();
        $('#hiddentab').val("c");

        var temp = $('#tempdate').val();
        $('#lblCalendarMsg3').html(temp);

        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        resetbuttoncolor();
        $('.hannahselector').hide();
    }

    function calendar_four() {
        //var b = $('.fc-basicWeek-button');
        //b[3].className = "fc-basicWeek-button fc-button fc-state-default";
        //var c = $('.fc-month-button');
        //c[3].className = "fc-month-button fc-button fc-state-default fc-corner-left";
        //$('.fc-center').hide();
        //$('.fc-right').hide();
        //$('#calendar4Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div').hide();
        $('#day_div2').hide();
        $('#day_div3').hide();
        $('#day_div4').show();
        $('#hiddentab').val("d");

        var temp = $('#tempdate').val();
        $('#lblCalendarMsg4').html(temp);

        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        resetbuttoncolor();
        $('.hannahselector').hide();
    }

    function calendar_change_name_click(ee) {
        var a = ee.previousElementSibling.getElementsByTagName("p");
        var b = ee.previousElementSibling.id;
        if (b == "pills-active-tab") { $('#calendarnumber').html("1"); }
        else if (b == "pills-achive-tab") { $('#calendarnumber').html("2"); }
        else if (b == "pills-achive-tab2") { $('#calendarnumber').html("3"); }
        else if (b == "pills-achive-tab3") { $('#calendarnumber').html("4"); }
        $('#hiddenID').val(b);
        $('#oldName').html(a[0].innerHTML);
    }

    function Save_Change_Name() {
        var number = $('#calendarnumber').html();
        var newName = $('#newName').val().trim();
        var hiddenVal = $('#hiddenID').val();
        if (newName == "") {
            tempAlert("New Name Empty", 2000);
        }
        else {
            $.ajax({
                url: "/Home/Change_Calendar_Name",
                type: "POST",
                data: { number: number, newName: newName },
                dataType: "html",
                success: function () {
                    $('#' + hiddenVal).find('p:first-child').html(newName);
                    $('#newName').val("");
                    $('#Calendar_Name_Change').modal('hide');

                }
            });
        }
    }

</script>

<style>

    .form-tabs .nav-link {
        font-size: 1rem;
    }

    .modal-xlg {
        width: 900px !important;
        max-width: 1000px !important;
    }

    table.attend tbody tr td {
        padding: 7px 7px 4px 7px !important;
    }
    table.attend tbody tr td:first-child {
        padding: 3px !important;
    }

    table.attend tbody tr {
        border-bottom: 1px solid #000;
    }

    #attendent_form {
        margin-left: 0;
        z-index: 2000;
    }

    #attendent_form_second_layer {
        margin-left: 7.5vw;
        right: auto;
        padding-top: 5px;
        padding-bottom: 30px;
        min-width: 85vw;
    }

    #attendent_form_third_layer {
        margin-left: 0;
    }

    #contactForm {
        display: none;
        border: 6px solid salmon;
        padding: 2em;
        width: 400px;
        text-align: center;
        background: #fff;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        -webkit-transform: translate(-50%,-50%);
        overflow-y: hidden;
    }

    .formBtn, .formtext {
        margin: .8em auto;
        font-family: inherit;
        text-transform: inherit;
        font-size: inherit;
        display: block;
        padding: .4em;
    }

    .formtext {
        resize: none;
    }

    .formBtn {
        display: inline-block;
        background: teal;
        color: #fff;
        font-weight: 100;
        font-size: 1.2em;
        border: none;
        width: 70px;
    }

    .fa-file-text-o {
        font-size: 20px;
        color: #015093;
    }


    a.active {
        background-color: #015093 !important;
    }

    .fc-scroller{
        overflow:hidden !important;
    }
</style>

<script>

    function list_savebutton() {
        var tab = $('#hiddentab').val();
        var savestring = "";
        var mealselect = document.getElementById("select_ActivityID_index").className;
        var eventname = document.getElementById("select_ActivityID_index").getAttribute("name");
        var english = document.getElementById("select_ActivityID_index").getAttribute("english");
        var dateselect = document.getElementById("lblCalendarMsg").innerHTML;

        var a = $("div[id=pills-profile1] tr td div input[class=form-check-input]");
        for (var c = 0; c < a.length; c++) {
            if (a[c].checked == true && a[c].disabled != true) {
                savestring = savestring + a[c].name + "," + a[c].value + ",";
            }
        }
        $.post("/Home/saveButton_Activity", { arr: savestring, whichAEID: mealselect, datesel: dateselect, eventName: eventname, englishname: english, tab: tab }, function (data) {
            if (data == 1) {
                tempAlert("Saved Successfully", 2000);
                update_day_div();
            }
            else
                tempAlert("Saved failed", 2000);
        });
    }
    function floor_savebutton() {
        var tab = $('#hiddentab').val();
        var savestring = "";
        var mealselect = document.getElementById("select_ActivityID_index").className;
        var eventname = document.getElementById("select_ActivityID_index").getAttribute("name");
        var english = document.getElementById("select_ActivityID_index").getAttribute("english");
        var dateselect = document.getElementById("lblCalendarMsg").innerHTML;

        var a = $("div[id=pills-contact1] tr td div input[class=form-check-input]");
        for (var c = 0; c < a.length; c++) {
            if (a[c].checked == true && a[c].disabled != true) {
                var g = String(a[c].name);
                var nameg = g.substring(0, g.length - 1);
                savestring = savestring + nameg + "," + a[c].value + ",";
            }
        }
        $.post("/Home/saveButton_Activity", { arr: savestring, whichAEID: mealselect, datesel: dateselect, eventName: eventname, englishname: english, tab: tab }, function (data) {
            if (data == 1) {
                tempAlert("Saved Successfully", 2000);
                update_day_div();
            }
            else
                tempAlert("Saved failed", 2000);
        });
    }
    function floor_clearbutton() {
        var a = $("div[id=pills-contact1] tr td div input[class=form-check-input]");
        for (var c = 0; c < a.length; c++) {
            if (a[c].disabled != true) {
                a[c].checked = false;
            }
        }
    }
    function list_clearbutton() {
        var a = $("div[id=pills-profile1] tr td div input[class=form-check-input]");
        for (var c = 0; c < a.length; c++) {
            if (a[c].disabled != true) {
                a[c].checked = false;
            }
        }
    }

    function open_form(ee) {

        var node_tbody = document.getElementById("show_list")
        while (node_tbody.hasChildNodes())
            node_tbody.removeChild(node_tbody.lastChild);
        var aa = $("div tr td div input[class=form-check-input]");
        for (var cc = 0; cc < aa.length; cc++) {
            if (aa[cc].checked == true) {
                aa[cc].checked = false;
            }
        }
        var a = document.getElementById("select_ActivityID_index");
        a.className = ee.parentNode.parentNode.getAttribute("name");
        a.setAttribute("name", ee.parentNode.parentNode.id);
        a.setAttribute("english", ee.parentNode.parentNode.getAttribute("englishname"));
        getdata();


    }
    function getdata() {
        var tab = $('#hiddentab').val();
        var AEventID = document.getElementById("select_ActivityID_index").className;
        var dateselect = document.getElementById("lblCalendarMsg").innerHTML;
        $.get("/Home/Getting_Activity", { whichAEID: AEventID, datesel: dateselect, tab: tab }, function (data) {
            var a = String(data).split(";");
            for (var c = 0; c < a.length; c++) {
                var cplus = c + 1;
                for (var b = 0; b < a[c].split(",").length; b++) {
                    if (a[c].split(",")[b] != "") {
                        var d = $("input[name=" + a[c].split(",")[b] + "][value=option" + cplus + "]");
                        d[0].checked = true;
                        var e = $("input[name=\"" + a[c].split(",")[b] + "+\"][value=option" + cplus + "]");
                        e[0].checked = true;
                    }
                }
            }
        });

        $.get("/Home/View_List_Activity", { whichAEID: AEventID, datesel: dateselect, tab: tab }, function (data) {
            var view = $("#show_list");
            for (var i = 0; i < data.length; i++) {
                view.append("<tr name='" + data[i][1].Value + "'><td>" + data[i][0].Value + "<\/td><td>" + data[i][3].Value + "<\/td><td><div class=\"form-check form-check-inline\"><input type=\"image\" style=\"width:1.7vw;height:1.7vw\" src=\"\/Content\/pages\/img\/icoedit.png\" onclick=\"progressnote(this)\"><\/div><\/td>" +
                    "<td><div><input id=\"1\" type=\"image\"  onclick=\"SomeDeleteRowFunction(this)\" style=\"width:1.5vw;height:1.5vw\" src=\"\/Content\/pages\/img\/X.jpg\" class=\"clsButtonRemove\" style=\"float:right;\"><\/div><\/td><\/tr>");
            }

        });



        $.get("/Home/disable_hospital", { datesel: dateselect }, function (data) {
            for (var len = 0; len < data.toString().split(',').length; len++) {
                if (data.toString().split(',')[len] != '') {
                    var a = $('input[type="radio"][name="' + data.toString().split(',')[len] + '"]')
                    a[3].checked = true;
                    a.attr('disabled', true);
                    var b = $('input[type="radio"][name="' + data.toString().split(',')[len] + '+"]')
                    b[3].checked = true;
                    b.attr('disabled', true);
                }
            }
        });
    }

    function View_List_add() {
        var a = $('#searchresidents3');
        var residentid = a[0].name;
        if (residentid == "" || residentid == undefined) {
            tempAlert("No Resident was Choosen", 2000);
            return;
        }
        var namesub = $('input[name=' + residentid + ']')
        var name = namesub[1].parentNode.parentNode.previousElementSibling.innerHTML;
        var selector = $('input[name="inlineRadioOptions"]')
        for (var s = 0; s < selector.length; s++) {
            if (selector[s].checked == true) {
                var text = selector[s].nextElementSibling.innerHTML;
            }
        }
        if (text == undefined) {
            //alert("No Option was Choosen");
            tempAlert("No Option was Choosen", 2000);

            return;
        }
        var dateselect = document.getElementById("lblCalendarMsg").innerHTML;
        $.get("/Home/disable_hospital", { datesel: dateselect }, function (data) {
            if (data.toString().includes(residentid)) {
                tempAlert("Resident in the Hospital", 2000);
            }
            else {
                var view = $("#show_list");
                var viewtr = $("#show_list tr");
                for (var viewindex = 0; viewindex < viewtr.length; viewindex++) {
                    if (residentid == viewtr[viewindex].getAttribute('name')) {
                        residentid = '-9';
                    }
                }
                if (residentid == '-9') {
                    tempAlert("Resident already exist in the List", 2000);
                }
                else {
                    view.append("<tr name='" + residentid + "'><td>" + name + "<\/td><td>" + text +
                        "<\/td><td><div class=\"form-check form-check-inline\"><input type=\"image\" style=\"width:1.7vw;height:1.7vw\" src=\"\/Content\/pages\/img\/icoedit.png\" onclick=\"progressnote(this)\">" +
                        "<\/div><\/td><td><div><input id=\"1\" type=\"image\" style=\"width:1.5vw;height:1.5vw\" " +
                        "onclick=\"SomeDeleteRowFunction(this)\" src=\"\/Content\/pages\/img\/X.jpg\" class=\"clsButtonRemove\" style=\"float:right;\"><\/div>" +
                        "<\/td><\/tr>");
                    var box = $('#searchresidents3');
                    box[0].value = "";
                    var choice = $('input[name="inlineRadioOptions"]');
                    for (var ind = 0; ind < choice.length; ind++) {
                        choice[ind].checked = false;
                    }
                }
            }
        });
    }
    function x_close() {
        var box = $('#searchresidents3');
        box[0].value = "";
        var choice = $('input[name="inlineRadioOptions"]');
        for (var ind = 0; ind < choice.length; ind++) {
            choice[ind].checked = false;
        }
    }
    function SomeDeleteRowFunction(o) {
        var p = o.parentNode.parentNode.parentNode;
        p.parentNode.removeChild(p);
    }
    function View_List_save() {
        var tab = $('#hiddentab').val();
        var savestring = "";
        var mealselect = document.getElementById("select_ActivityID_index").className;
        var eventname = document.getElementById("select_ActivityID_index").getAttribute("name");
        var english = document.getElementById("select_ActivityID_index").getAttribute("english");
        var dateselect = document.getElementById("lblCalendarMsg").innerHTML;
        var tr_list = $('div table[class="attend"] tbody[id="show_list"] tr');
        for (var index = 0; index < tr_list.length; index++) {
            var td_list = tr_list[index].childNodes
            savestring = savestring + tr_list[index].getAttribute('name') + "," + td_list[1].innerHTML + ",";
        }
        $.post("/Home/saveButton_Activity", { arr: savestring, whichAEID: mealselect, datesel: dateselect, eventName: eventname, englishname: english, tab: tab }, function (data) {
            if (data == 1) {
                tempAlert("Saved Successfully", 2000);
                update_day_div();

            }
            else
                tempAlert("Saved failed", 2000);
        });

    }

    function progressnote(o) {
        var id = o.parentNode.parentNode.parentNode.getAttribute("name");
        document.getElementById('contactForm').style.display = "block";
        document.getElementById('contactForm').setAttribute('uid', id);
    }
    function progressnoteadd(o) {
        var dateselect = document.getElementById("lblCalendarMsg").innerHTML;
        var id = o.parentNode.parentNode.getAttribute("uid");
        var idint = parseInt(id);
        var textnote = document.getElementById("formtextarea").value;
        $.get("/Home/click_progress_note_activity", { residentid: idint, datesel: dateselect, note: textnote }, function (data) {
            if (data == 1) {
                tempAlert("Saved Successfully", 2000);
            }
            else {
                tempAlert("Saved failed", 2000);
            }
        });
        document.getElementById('formtextarea').value = '';
        document.getElementById('contactForm').style.display = "none";
    }
    function note_close_click() {
        document.getElementById('formtextarea').value = '';
        document.getElementById('contactForm').style.display = 'none';
    }

    function Print_list() {
        var mywindow = window.open('', 'PRINT', 'height=400,width=600');

        mywindow.document.write('<html><head><title>' + document.title + '</title>');
        mywindow.document.write('</head><body >');
        mywindow.document.write('<h1>' + document.title + '</h1>');
        mywindow.document.write(document.getElementById("pills-profile1").innerHTML);
        mywindow.document.write('</body></html>');

        mywindow.document.close(); // necessary for IE >= 10
        mywindow.focus(); // necessary for IE >= 10*/

        mywindow.print();
        mywindow.close();

        return true;
    }
    function Print_floor() {
        var mywindow = window.open('', 'PRINT', 'height=400,width=600');

        mywindow.document.write('<html><head><title>' + document.title + '</title>');
        mywindow.document.write('</head><body >');
        mywindow.document.write('<h1>' + document.title + '</h1>');
        mywindow.document.write(document.getElementById("pills-contact1").innerHTML);
        mywindow.document.write('</body></html>');

        mywindow.document.close(); // necessary for IE >= 10
        mywindow.focus(); // necessary for IE >= 10*/

        mywindow.print();
        mywindow.close();

        return true;
    }

    function previousday_mike() {

        if ($('#day_div').css('display') == 'none' && $('#day_div2').css('display') == 'none' && $('#day_div3').css('display') == 'none' && $('#day_div4').css('display') == 'none') {
            var tab = $('#hiddentab').val();
            whichcalendar = "";
            if (tab == "a" || tab == "") {
                $('#calendar').fullCalendar('prev');
                var view = $('#calendar').fullCalendar('getView');
                $('#lblCalendarMsg').html(view.title);
                whichcalendar = "#calendar";
            }
            else if (tab == "b") {
                $('#calendar2').fullCalendar('prev');
                var view = $('#calendar2').fullCalendar('getView');
                $('#lblCalendarMsg2').html(view.title);
                whichcalendar = "#calendar2";
            }
            else if (tab == "c") {
                $('#calendar3').fullCalendar('prev');
                var view = $('#calendar3').fullCalendar('getView');
                $('#lblCalendarMsg3').html(view.title);
                whichcalendar = "#calendar3";
            }
            else if (tab == "d") {
                $('#calendar4').fullCalendar('prev');
                var view = $('#calendar4').fullCalendar('getView');
                $('#lblCalendarMsg4').html(view.title);
                whichcalendar = "#calendar4";
            }

        }
        else {



            var monthNames = [
                "January", "February", "March",
                "April", "May", "June", "July",
                "August", "September", "October",
                "November", "December"
            ];
            var a = document.getElementById("lblCalendarMsg").innerHTML;
            var b = new Date(a);
            b.setDate(b.getDate() - 1);
            var dd = b.getDate();
            if (dd < 10) {
                dd = '0' + dd
            }
            document.getElementById("lblCalendarMsg").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            document.getElementById("lblCalendarMsg2").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            document.getElementById("lblCalendarMsg3").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            document.getElementById("lblCalendarMsg4").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            var dateselect = document.getElementById("lblCalendarMsg").innerHTML;

            $('#tempdate').val(dateselect);

            Update_When_Change_Date(dateselect);
        }

        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();

        var DWM = $('#DWM').val();
    
        if (DWM == "month" && $(whichcalendar + ' #imgBot').length == 0) {
            getImage();
        }

    }
    function nextday_mike() {
        if ($('#day_div').css('display') == 'none' && $('#day_div2').css('display') == 'none' && $('#day_div3').css('display') == 'none' && $('#day_div4').css('display') == 'none') {
            whichcalendar = "";
            var tab = $('#hiddentab').val();
            if (tab == "a" || tab == "") {
                $('#calendar').fullCalendar('next');
                var view = $('#calendar').fullCalendar('getView');
                $('#lblCalendarMsg').html(view.title);
                whichcalendar = "#calendar";
            }
            else if (tab == "b") {
                $('#calendar2').fullCalendar('next');
                var view = $('#calendar2').fullCalendar('getView');
                $('#lblCalendarMsg2').html(view.title);
                whichcalendar = "#calendar2";
            }
            else if (tab == "c") {
                $('#calendar3').fullCalendar('next');
                var view = $('#calendar3').fullCalendar('getView');
                $('#lblCalendarMsg3').html(view.title);
                whichcalendar = "#calendar3";
            }
            else if (tab == "d") {
                $('#calendar4').fullCalendar('next');
                var view = $('#calendar4').fullCalendar('getView');
                $('#lblCalendarMsg4').html(view.title);
                whichcalendar = "#calendar4";
            }

        }
        else {
            var monthNames = [
                "January", "February", "March",
                "April", "May", "June", "July",
                "August", "September", "October",
                "November", "December"
            ];
            var a = document.getElementById("lblCalendarMsg").innerHTML;
            var b = new Date(a);
            b.setDate(b.getDate() + 1);
            var dd = b.getDate();
            if (dd < 10) {
                dd = '0' + dd
            }
            document.getElementById("lblCalendarMsg").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            document.getElementById("lblCalendarMsg2").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            document.getElementById("lblCalendarMsg3").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            document.getElementById("lblCalendarMsg4").innerHTML = monthNames[b.getMonth()] + " " + dd + ", " + b.getFullYear();
            var dateselect = document.getElementById("lblCalendarMsg").innerHTML;

            $('#tempdate').val(dateselect);

            Update_When_Change_Date(dateselect);
        }

        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();

        var DWM = $('#DWM').val();

        if (DWM == "month" && $(whichcalendar + ' #imgBot').length == 0) {

            getImage();
        }
    }

    function Update_When_Change_Date(dateselect) {

        $.get("/Home/update_day_div1", { datesel: dateselect }, function (data) {
            $('#day_div #main_page #pills-day table tbody').html('');
            for (var i = 0; i < data.length; i++) {
                $('#day_div #main_page #pills-day table tbody').append('' +

                    '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                    '<td>' + data[i].ProgramStartTime + '</td>' +
                    '<td>' + data[i].ProgramName + '</td>' +
                    '<td>' + data[i].Venue + '</td>' +
                    '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                    '<td>' + data[i].Active + '</td>' +
                    '<td>' + data[i].Declined + '</td>' +
                    '</tr>' +

                    '');
            }
        });

        $.get("/Home/update_day_div2", { datesel: dateselect }, function (data) {
            $('#day_div2 #main_page #pills-day table tbody').html('');
            for (var i = 0; i < data.length; i++) {
                $('#day_div2 #main_page #pills-day table tbody').append('' +

                    '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                    '<td>' + data[i].ProgramStartTime + '</td>' +
                    '<td>' + data[i].ProgramName + '</td>' +
                    '<td>' + data[i].Venue + '</td>' +
                    '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                    '<td>' + data[i].Active + '</td>' +
                    '<td>' + data[i].Declined + '</td>' +
                    '</tr>' +

                    '');
            }
        });

        $.get("/Home/update_day_div3", { datesel: dateselect }, function (data) {
            $('#day_div3 #main_page #pills-day table tbody').html('');
            for (var i = 0; i < data.length; i++) {
                $('#day_div3 #main_page #pills-day table tbody').append('' +

                    '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                    '<td>' + data[i].ProgramStartTime + '</td>' +
                    '<td>' + data[i].ProgramName + '</td>' +
                    '<td>' + data[i].Venue + '</td>' +
                    '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                    '<td>' + data[i].Active + '</td>' +
                    '<td>' + data[i].Declined + '</td>' +
                    '</tr>' +

                    '');
            }
        });

        $.get("/Home/update_day_div4", { datesel: dateselect }, function (data) {
            $('#day_div4 #main_page #pills-day table tbody').html('');
            for (var i = 0; i < data.length; i++) {
                $('#day_div4 #main_page #pills-day table tbody').append('' +

                    '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                    '<td>' + data[i].ProgramStartTime + '</td>' +
                    '<td>' + data[i].ProgramName + '</td>' +
                    '<td>' + data[i].Venue + '</td>' +
                    '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                    '<td>' + data[i].Active + '</td>' +
                    '<td>' + data[i].Declined + '</td>' +
                    '</tr>' +

                    '');
            }
        });
    }

    function refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar() {

        var category = $('#categorychoose').val();
        var tab = $('#hiddentab').val();
        var DWM = $('#DWM').val();

        if (category == '0') {
            if (DWM == "month" || DWM == "week") {

                if (tab == "a" || tab == "") {
                    var showdate = document.getElementById("lblCalendarMsg").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];
                    $('#calendar').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {



                            $.each(data, function (i, v) {


                                data.push({
                                    Id: v.id,
                                    title: v.title,
                                    start: v.startT,
                                    end: v.endT != null ? v.endT : null,
                                    startDate: v.startDate,
                                    Venue: v.Venue,
                                    Note: v.note,
                                    Category: v.Category,
                                    ActivityID: v.ActivityId,
                                    startTime: v.startTime,
                                    special: v.Special,
                                    code: v.Code
                                });

                            })
                            $('#calendar').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
                else if (tab == "b") {
                    var showdate = document.getElementById("lblCalendarMsg2").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];

                    $('#calendar2').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_C2_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {
                            $.each(data, function (i, v) {


                                data.push({
                                    Id: v.id,
                                    title: v.title,
                                    start: v.startT,
                                    end: v.endT != null ? v.endT : null,
                                    startDate: v.startDate,
                                    Venue: v.Venue,
                                    Note: v.note,
                                    Category: v.Category,
                                    ActivityID: v.ActivityId,
                                    startTime: v.startTime,
                                    special: v.Special,
                                    code: v.Code
                                });

                            })
                            $('#calendar2').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
                else if (tab == "c") {
                    var showdate = document.getElementById("lblCalendarMsg3").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];

                    $('#calendar3').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_C3_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {
                            $.each(data, function (i, v) {


                                data.push({
                                    Id: v.id,
                                    title: v.title,
                                    start: v.startT,
                                    end: v.endT != null ? v.endT : null,
                                    startDate: v.startDate,
                                    Venue: v.Venue,
                                    Note: v.note,
                                    Category: v.Category,
                                    ActivityID: v.ActivityId,
                                    startTime: v.startTime,
                                    special: v.Special,
                                    code: v.Code
                                });

                            })
                            $('#calendar3').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
                else if (tab == "d") {
                    var showdate = document.getElementById("lblCalendarMsg4").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];

                    $('#calendar4').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_C4_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {
                            $.each(data, function (i, v) {


                                data.push({
                                    Id: v.id,
                                    title: v.title,
                                    start: v.startT,
                                    end: v.endT != null ? v.endT : null,
                                    startDate: v.startDate,
                                    Venue: v.Venue,
                                    Note: v.note,
                                    Category: v.Category,
                                    ActivityID: v.ActivityId,
                                    startTime: v.startTime,
                                    special: v.Special,
                                    code: v.Code
                                });

                            })
                            $('#calendar4').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
            }
        }
        else {
            if (DWM == "month" || DWM == "week") {

                if (tab == "a" || tab == "") {
                    var showdate = document.getElementById("lblCalendarMsg").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];
                    $('#calendar').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {
                            $.each(data, function (i, v) {
                                if (v.Category == category) {
                                    data.push({
                                        Id: v.id,
                                        title: v.title,
                                        start: v.startT,
                                        end: v.endT != null ? v.endT : null,
                                        startDate: v.startDate,
                                        Venue: v.Venue,
                                        Note: v.note,
                                        Category: v.Category,
                                        ActivityID: v.ActivityId,
                                        startTime: v.startTime,
                                        special: v.Special,
                                        code: v.Code
                                    });
                                }



                            })
                            $('#calendar').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
                else if (tab == "b") {
                    var showdate = document.getElementById("lblCalendarMsg2").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];

                    $('#calendar2').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_C2_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {
                            $.each(data, function (i, v) {

                                if (v.Category == category) {
                                    data.push({
                                        Id: v.id,
                                        title: v.title,
                                        start: v.startT,
                                        end: v.endT != null ? v.endT : null,
                                        startDate: v.startDate,
                                        Venue: v.Venue,
                                        Note: v.note,
                                        Category: v.Category,
                                        ActivityID: v.ActivityId,
                                        startTime: v.startTime,
                                        special: v.Special,
                                        code: v.Code
                                    });
                                }
                                    



                            })
                            $('#calendar2').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
                else if (tab == "c") {
                    var showdate = document.getElementById("lblCalendarMsg3").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];

                    $('#calendar3').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_C3_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {
                            $.each(data, function (i, v) {

                                if (v.Category == category) {
                                    data.push({
                                        Id: v.id,
                                        title: v.title,
                                        start: v.startT,
                                        end: v.endT != null ? v.endT : null,
                                        startDate: v.startDate,
                                        Venue: v.Venue,
                                        Note: v.note,
                                        Category: v.Category,
                                        ActivityID: v.ActivityId,
                                        startTime: v.startTime,
                                        special: v.Special,
                                        code: v.Code
                                    });
                                }



                            })
                            $('#calendar3').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
                else if (tab == "d") {
                    var showdate = document.getElementById("lblCalendarMsg4").innerHTML;
                    var ggg = getStartEnddate(showdate);
                    var firstDayString = ggg[0];
                    var lastDayString = ggg[1];

                    $('#calendar4').fullCalendar("removeEvents");
                    $.ajax({
                        type: "GET",
                        url: "/home/getEvents_C4_mike_between",
                        data: { start: firstDayString, end: lastDayString },
                        success: function (data) {
                            $.each(data, function (i, v) {

                                if (v.Category == category) {
                                    data.push({
                                        Id: v.id,
                                        title: v.title,
                                        start: v.startT,
                                        end: v.endT != null ? v.endT : null,
                                        startDate: v.startDate,
                                        Venue: v.Venue,
                                        Note: v.note,
                                        Category: v.Category,
                                        ActivityID: v.ActivityId,
                                        startTime: v.startTime,
                                        special: v.Special,
                                        code: v.Code
                                    });
                                }



                            })
                            $('#calendar4').fullCalendar('renderEvents', data);

                        },

                        error: function (error) {
                            tempAlert('failed', 2000);
                        }
                    })
                }
            }
        }



        

    }

    String.prototype.splice = function (idx, rem, str) {
        return this.slice(0, idx) + str + this.slice(idx + Math.abs(rem));
    };

    function getStartEnddate(showdate) {
        var ggg = [];
        var DWM = $('#DWM').val();
        if (DWM == "month") {

            var showdate = showdate.splice(showdate.length - 4, 0, "01 ");
            var newshowdate = new Date(showdate);

            var y = newshowdate.getFullYear();
            var m = newshowdate.getMonth();
            var firstDay = new Date(y, m, 1);
            var lastDay = new Date(y, m + 1, 0);

            if (firstDay.getMonth() + 1 < 10) {
                monthstring_first = '0' + (firstDay.getMonth() + 1).toString();
            }
            else {
                monthstring_first = (firstDay.getMonth() + 1).toString();
            }

            if (lastDay.getMonth() + 1 < 10) {
                monthstring_last = '0' + (lastDay.getMonth() + 1).toString();
            }
            else {
                monthstring_last = (lastDay.getMonth() + 1).toString();
            }


            var firstDayString = firstDay.getFullYear() + '-' + monthstring_first + '-01';
            var lastDayString = lastDay.getFullYear() + '-' + monthstring_last + '-' + lastDay.getDate();
            ggg.push(firstDayString);
            ggg.push(lastDayString);
           
        }
        else if (DWM == 'week') {

            if (showdate.indexOf('–') > 0) {
                if (showdate.substring(0, showdate.indexOf('–')).indexOf(',') < 0) {
                    startdate = new Date(showdate.substring(0, showdate.indexOf('–')) + showdate.substring(showdate.length - 4))
                }
                else {
                    startdate = new Date(showdate.substring(0, showdate.indexOf('–')));
                }

                enddate = new Date(startdate.getFullYear(), startdate.getMonth(), startdate.getDate() + 6);
            }
            if (startdate.getMonth() + 1 < 10) {
                var monthstring_start = '0' + (startdate.getMonth() + 1).toString();
            }
            else {
                var monthstring_start = (startdate.getMonth() + 1).toString();
            }
            if (startdate.getDate() < 10) {
                var daystring_start = '0' + (startdate.getDate()).toString();
            }
            else {
                var daystring_start = (startdate.getDate()).toString();
            }

            if (enddate.getMonth() + 1 < 10) {
                var monthstring_end = '0' + (enddate.getMonth() + 1).toString();
            }
            else {
                var monthstring_end = (enddate.getMonth() + 1).toString();
            }
            if (enddate.getDate() < 10) {
                var daystring_end = '0' + (enddate.getDate()).toString();
            }
            else {
                var daystring_end = (enddate.getDate()).toString();
            }

            var startDayString = startdate.getFullYear() + '-' + monthstring_start + '-' + daystring_start;
            var endDayString = enddate.getFullYear() + '-' + monthstring_end + '-' + daystring_end;
            ggg.push(startDayString);
            ggg.push(endDayString);
        }
        return ggg;
    }

</script>

<script>
    function tempAlert(msg, duration) {
        var el = document.createElement("div");
        el.setAttribute("style", "position:fixed;top:2%;left:28%;width:45vw;text-align: center;background-color:white;z-index:9999;color:black;padding:2.5vw 4vw 2.5vw 4vw;border-radius:1vw;font-size:2vw;font-weight:bold;border:black solid;");
        el.innerHTML = "<img src=\"\/Content\/assets\/img\/qola_logo3.png\" style=\"width:120px;height:80px;margin-left:-2vw;\" \/><div style=\"margin-left:3vw;display:inline;\">" + msg + "<\/div>";
        setTimeout(function () {
            el.parentNode.removeChild(el);
        }, duration);
        document.body.appendChild(el);
    }

    function tempAlert2(msg) {
        var el = document.createElement("div");
        el.setAttribute("style", "position:fixed;top:2%;left:29%;width:40vw;text-align:center;background-color:white;z-index:9999;color:black;padding:2vw 2vw 1vw 3vw;border-radius:1vw;font-size:2vw;font-weight:bold;border:black solid;");
        el.innerHTML = "<img src=\"\/Content\/assets\/img\/qola_logo3.png\" style=\"width:120px;height:80px;margin-left:-2vw;\" \/><div style=\"margin-left:3vw;display:inline;\">" + msg + "<br><div style='width:90%;'><button class='btn btn-primary pull-right' style='display:inline-block;' onclick='this.parentNode.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode.parentNode);'>No<\/button><button class='btn btn-danger pull-right' style='display:inline-block;margin-right:10px' onclick='deleteEventReturnTrue(this)'>Yes<\/button><\/div><\/div>";

        //el.parentNode.removeChild(el);


        document.body.appendChild(el);

    }

    function deleteEventReturnTrue(ee) {
        ee.parentNode.parentNode.parentNode.parentNode.removeChild(ee.parentNode.parentNode.parentNode);

        var aa = $('#EditEvent #EventID').val()
        var tab = $('#hiddentab').val();
        var xx = scrollX;
        var yy = scrollY;
        if (tab == "" || tab == "a") {
            document.getElementById('EDIT_COPY_DELETE_CANCEL').className = 'modal fade';
            $.get("/Home/DELETE_EVENT", { eventID: aa }, function (data) {
                $('#calendar').fullCalendar('removeEvents', function (event) {
                    return (event.Id == data);
                });
                update_day_div();
                scroll(xx, yy);
            });

        }
        else if (tab == "b") {

            document.getElementById('EDIT_COPY_DELETE_CANCEL').className = 'modal fade';
            $.get("/Home/DELETE_EVENT2", { eventID: aa }, function (data) {
                $('#calendar2').fullCalendar('removeEvents', function (event) {
                    return (event.Id == data);
                });
                update_day_div();
                scroll(xx, yy);
            });

        }
        else if (tab == "c") {

            document.getElementById('EDIT_COPY_DELETE_CANCEL').className = 'modal fade';
            $.get("/Home/DELETE_EVENT3", { eventID: aa }, function (data) {
                $('#calendar3').fullCalendar('removeEvents', function (event) {
                    return (event.Id == data);
                });
                update_day_div();
                scroll(xx, yy);
            });

        }
        else if (tab == "d") {

            document.getElementById('EDIT_COPY_DELETE_CANCEL').className = 'modal fade';
            $.get("/Home/DELETE_EVENT4", { eventID: aa }, function (data) {
                $('#calendar4').fullCalendar('removeEvents', function (event) {
                    return (event.Id == data);
                });
                update_day_div();
                scroll(xx, yy);
            });

        }


    }

    $('#searchresidents3').keyup(function () {
        val = $(this).val();
        if (val.length > 1) {
            $('.searchboxresult2').empty();
            $.get("/Residents/Search/", { term: val }, function (data) {
                console.log(data);
                for (var i = 0; i < data.length; i++) {
                    $('.searchboxresult2').append('<a onclick="click_searchresidents3(\'' + data[i][0].Value + '\',\'' + data[i][4].Value + '\')" class=\'list-group-item list-group-item-action\' id=\'' + data[i][4].Value + '\'">' +
                        '<img src="/Content/assets/' + data[i][5].Value + '" class="searchimg">' +
                        '<p class="ml-3">' + data[i][0].Value + '<br></p>' +
                        '</a>');
                }
                if (data.length == 0) {
                    $('.searchboxresult2').append('No resident found with the specified name/room number');
                }
            });
            $('.searchBox').show();
        } else {
            $('.searchBox').hide();
        }
    })

    function click_searchresidents3(aa, bb) {
        document.getElementById("searchresidents3").value = aa;
        document.getElementById("searchresidents3").name = bb;
        $('#searchBoxfor3').hide();
    }

    function change_searchresidents3() {
        document.getElementById("searchresidents3").name = "";
    }

    document.body.addEventListener("click", function (e) {
        $('.searchboxresult2').empty();
        var a = $('.searchboxresult2');
        if (a[0] != null) {
            a[0].parentElement.style.display = "none";
        }
        //$('#searchresidents3').val("");

    });

</script>

<script>
    //var tab = $('#hiddentab').val();
    //if (tab == "a" || tab == "") {
    //}
    //else if (tab == "b") {
    //    document.getElementById("pills-active-tab").className = "nav-link";
    //    document.getElementById("pills-achive-tab").className = "nav-link active";
    //    document.getElementById("pills-active").className = "tab-pane fade";
    //    document.getElementById("pills-achive").className = "tab-pane fade show active";

    //    document.getElementById("day_div").style.display = "none";
    //    document.getElementById("day_div2").style.display = "block";
    //}
    //else if (tab == "c") {
    //    document.getElementById("pills-active-tab").className = "nav-link";
    //    document.getElementById("pills-achive-tab2").className = "nav-link active";
    //    document.getElementById("pills-active").className = "tab-pane fade";
    //    document.getElementById("pills-C3").className = "tab-pane fade show active";
    //    document.getElementById("day_div").style.display = "none";
    //    document.getElementById("day_div3").style.display = "block";
    //}
    //else if (tab == "d") {
    //    document.getElementById("pills-active-tab").className = "nav-link";
    //    document.getElementById("pills-achive-tab3").className = "nav-link active";
    //    document.getElementById("pills-active").className = "tab-pane fade";
    //    document.getElementById("pills-C4").className = "tab-pane fade show active";
    //    document.getElementById("day_div").style.display = "none";
    //    document.getElementById("day_div4").style.display = "block";
    //}

    $('#activity_select').children('option:not(:first)').remove();
    $('#activity_select2').children('option:not(:first)').remove();
    $('#activity_select3').children('option:not(:first)').remove();
    $.get("/Home/getCategoriesForCalendar", {}, function (data) {
        for (var i = 0; i < data.length; i++) {
            $('#activity_select').append('<option value="' + data[i].Id + '">' + data[i].Name + '</option>');
            $('#activity_select2').append('<option value="' + data[i].Id + '">' + data[i].Name + '</option>');
            $('#activity_select3').append('<option value="' + data[i].Id + '">' + data[i].Name + '</option>');
        }
    });
    $('#venue_select').children('option:not(:first)').remove();
    $('#venue_select2').children('option:not(:first)').remove();
    $('#venue_select3').children('option:not(:first)').remove();
    $.get("/Home/getVenuesForCalendar", {}, function (data) {
        for (var i = 0; i < data.length; i++) {
            $('#venue_select').append('<option value="' + data[i].Id + '">' + data[i].venue + '</option>');
            $('#venue_select2').append('<option value="' + data[i].Id + '">' + data[i].venue + '</option>');
            $('#venue_select3').append('<option value="' + data[i].Id + '">' + data[i].venue + '</option>');
        }
    });
</script>

<script>
    $(document).ready(function () {
        //var date = new Date(), y = date.getFullYear(), m = date.getMonth();
        //var firstDay = new Date(y, m, 1);
        //var lastDay = new Date(y, m + 1, 0);
        //var firstDayString = firstDay.getFullYear() + '-' + (firstDay.getMonth() + 1).toString() + '-01';
        //var lastDayString = lastDay.getFullYear() + '-' + (lastDay.getMonth() + 1).toString() + '-' + lastDay.getDate();


        //$.ajax({
        //    type: "GET",
        //    url: "/home/getEvents_mike_between",
        //    data: { start: firstDayString, end: lastDayString },
        //    success: function (data) {
        //        $.each(data, function (i, v) {
        //            data.push({
        //                Id: v.id,
        //                title: v.title,
        //                start: v.startT,
        //                end: v.endT != null ? v.endT : null,
        //                startDate: v.startDate,
        //                Venue: v.Venue,
        //                Note: v.note,
        //                Category: v.Category,
        //                ActivityID: v.ActivityId,
        //                startTime: v.startTime,
        //                special: v.Special,
        //                code: v.Code
        //            });
        //        })
        //        GenerationCalendar(data);

        //    },

        //    error: function (error) {
        //        tempAlert('failed', 2000);
        //    }
        //})

        //$.ajax({
        //    type: "GET",
        //    url: "/home/getEvents_C2_mike_between",
        //    data: { start: firstDayString, end: lastDayString },
        //    success: function (data) {
        //        $.each(data, function (i, v) {
        //            data.push({
        //                Id: v.id,
        //                title: v.title,
        //                start: v.startT,
        //                end: v.endT != null ? v.endT : null,
        //                startDate: v.startDate,
        //                Venue: v.Venue,
        //                Note: v.note,
        //                Category: v.Category,
        //                ActivityID: v.ActivityId,
        //                startTime: v.startTime,
        //                special: v.Special,
        //                code: v.Code
        //            });
        //        })
        //        GenerationCalendar2(data);
        //    },

        //    error: function (error) {
        //        tempAlert('failed', 2000);
        //    }
        //})

        //$.ajax({
        //    type: "GET",
        //    url: "/home/getEvents_C3_mike_between",
        //    data: { start: firstDayString, end: lastDayString },
        //    success: function (data) {
        //        $.each(data, function (i, v) {
        //            data.push({
        //                Id: v.id,
        //                title: v.title,
        //                start: v.startT,
        //                end: v.endT != null ? v.endT : null,
        //                startDate: v.startDate,
        //                Venue: v.Venue,
        //                Note: v.note,
        //                Category: v.Category,
        //                ActivityID: v.ActivityId,
        //                startTime: v.startTime,
        //                special: v.Special,
        //                code: v.Code
        //            });
        //        })
        //        GenerationCalendar3(data);
        //    },

        //    error: function (error) {
        //        tempAlert('failed', 2000);
        //    }
        //})

        //$.ajax({
        //    type: "GET",
        //    url: "/home/getEvents_C4_mike_between",
        //    data: { start: firstDayString, end: lastDayString },
        //    success: function (data) {
        //        $.each(data, function (i, v) {
        //            data.push({
        //                Id: v.id,
        //                title: v.title,
        //                start: v.startT,
        //                end: v.endT != null ? v.endT : null,
        //                startDate: v.startDate,
        //                Venue: v.Venue,
        //                Note: v.note,
        //                Category: v.Category,
        //                ActivityID: v.ActivityId,
        //                startTime: v.startTime,
        //                special: v.Special,
        //                code: v.Code
        //            });
        //        })
        //        GenerationCalendar4(data);
        //    },

        //    error: function (error) {
        //        tempAlert('failed', 2000);
        //    }
        //})


        GenerationCalendar({});
        GenerationCalendar2({});
        GenerationCalendar3({});
        GenerationCalendar4({});

        function GenerationCalendar(events) {
            $('#calendar').fullCalendar('destroy');
            $('#calendar').fullCalendar({
                contentHeight: "auto",
                defaultDate: new Date(),
                timeFormat: 'h(:mm)a',
                header: {
                    right: '',
                    center: '',
                    left: ''
                },
                editable: true,
                defaultView: '',
                showNonCurrentDates: false,

                eventLimit: false,
                dayNamesShort: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                customButtons: {
                    CustomView: {
                        text: 'Day',
                        click: function () {
                            //var b = $('.fc-basicWeek-button');
                            //b[0].className = "fc-basicWeek-button fc-button fc-state-default";
                            //var c = $('.fc-month-button');
                            //c[0].className = "fc-month-button fc-button fc-state-default fc-corner-left";
                            //$('#calendar1Parent').css('width', '60%');
                            //$('.fc-view-container').hide();
                            //$('.fc-center').hide();
                            //$('.fc-right').hide();
                            //$('#day_div').show();
                            //$('#PrintWAM').css({ "display": "none" });
                            //$('#PrintDAY').css({ "display": "inline-block" });
                        }
                    }
                },
                eventColor: 'white',
                events: events,
                eventRender: function (event, element) {
                    if (event.code != undefined && event.code.trim() != '') {
                        element.find('.fc-title').append("<span> - " + event.code + "</span>");
                    } 
                },
                dayClick: function (date, jsEvent, view) {
                    var a = $('#ADD_CANCEL');
                    var b = $('#ADD_CANCEL_title');
                    var c = date.format();
                    b[0].innerHTML = c;
                    a[0].className = "modal fade show";
                },
                eventClick: function (calEvent, jsEvent, view) {
                    var a = $('#EDIT_COPY_DELETE_CANCEL');
                    var b = $('#EDIT_COPY_DELETE_CANCEL_title');
                    var c = calEvent.startDate;
                    b[0].innerHTML = c;
                    $(this).css('border-color', 'red');
                    $('#Event_Special').val(calEvent.special);

                    //$('#activity_select2').children('option:not(:first)').remove();
                    //$.get("/Home/getCategoriesForCalendar", {}, function (data) {
                    //    for (var i = 0; i < data.length; i++) {
                    //        $('#activity_select2').append('<option value="' + data[i].Id + '">' + data[i].Name + '</option>');
                    //    }
                    //    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    //});
                    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    $('#EditEvent #venue_select2').val(calEvent.Venue);

                    $('#EditEvent #display_title_input').val(calEvent.title);
                    var inputs = $("#EditEvent input[type=radio]");
                    inputs[0].disabled = true;
                    inputs[1].disabled = true;
                    inputs[2].disabled = true;
                    $('#EditEvent #dateandtime_input').val(calEvent.startDate + 'T' + calEvent.startTime);
                    $('#EditEvent #venue_select').val(calEvent.Venue);
                    $('#EditEvent #description_textarea').val(calEvent.Note);
                    $('#EditEvent #EventID').val(calEvent.Id)
                    a[0].className = "modal fade show";

                },
                eventDrop: function (event, delta, revertFunc) {
                    //if (confirm(event.title + " was dropped on " + event.start.format() + "   Are you sure about this change?")) {
                    //    DragandDrop(event.Id, event.start.format());
                    //}
                    //else { revertFunc(); }

                    if (event.special == '0' || $('#HannahAdd').length > 0) {
                        DragandDrop(event.Id, event.start.format());
                        event.startDate = event.start.format().substring(0, 10);
                        event.startTime = event.start.format().substring(11, 16);                      
                        $('#calendar').fullCalendar('updateEvent', event);
                    }
                    else {
                        tempAlert('Event Cannot Edit', 2000);
                        revertFunc();
                    }
                    
                }
            }).on('click', '.fc-basicWeek-button', function () {
                //var b = $('.fc-basicWeek-button');
                //b[0].className = "fc-basicWeek-button fc-button fc-state-default fc-state-active";
                //$('#calendar1Parent').css('width', '100%');
                //$('#day_div').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
            }).on('click', '.fc-month-button', function () {
                //var c = $('.fc-month-button');
                //c[0].className = "fc-month-button fc-button fc-state-default fc-corner-left fc-state-active";
                //$('#calendar1Parent').css('width', '100%');
                //$('#day_div').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
                })

        };

        function GenerationCalendar2(events) {
            $('#calendar2').fullCalendar('destroy');
            $('#calendar2').fullCalendar({
                contentHeight: "auto",
                defaultDate: new Date(),
                timeFormat: 'h(:mm)a',
                header: {
                    right: '',
                    center: '',
                    left: ''
                },
                editable: true,
                defaultView: '',
                showNonCurrentDates: false,
                eventLimit: false,
                dayNamesShort: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                customButtons: {
                    CustomView: {
                        text: 'Day',
                        click: function () {
                            //var b = $('.fc-basicWeek-button');
                            //b[1].className = "fc-basicWeek-button fc-button fc-state-default";
                            //var c = $('.fc-month-button');
                            //c[1].className = "fc-month-button fc-button fc-state-default fc-corner-left";
                            //$('#calendar2Parent').css('width', '60%');
                            //$('.fc-view-container').hide();
                            //$('.fc-center').hide();
                            //$('.fc-right').hide();
                            //$('#day_div2').show();
                            //$('#PrintWAM').css({ "display": "none" });
                            //$('#PrintDAY').css({ "display": "inline-block" });
                        }
                    }
                },
                eventColor: 'white',
                events: events,
                eventRender: function (event, element) {
                    if (event.code != undefined && event.code.trim() != '') {
                        element.find('.fc-title').append("<span> - " + event.code + "</span>");
                    }
                },
                dayClick: function (date, jsEvent, view) {
                    var a = $('#ADD_CANCEL');
                    var b = $('#ADD_CANCEL_title');
                    var c = date.format();
                    b[0].innerHTML = c;
                    a[0].className = "modal fade show";
                },
                eventClick: function (calEvent, jsEvent, view) {
                    var a = $('#EDIT_COPY_DELETE_CANCEL');
                    var b = $('#EDIT_COPY_DELETE_CANCEL_title');
                    var c = calEvent.startDate;
                    b[0].innerHTML = c;
                    $(this).css('border-color', 'red');
                    $('#Event_Special').val(calEvent.special);

                    //$('#activity_select2').children('option:not(:first)').remove();
                    //$.get("/Home/getCategoriesForCalendar", {}, function (data) {
                    //    for (var i = 0; i < data.length; i++) {
                    //        $('#activity_select2').append('<option value="' + data[i].Id + '">' + data[i].Name + '</option>');
                    //    }
                    //    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    //});
                    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    $('#EditEvent #venue_select2').val(calEvent.Venue);

                    $('#EditEvent #display_title_input').val(calEvent.title);
                    var inputs = $("#EditEvent input[type=radio]");
                    inputs[0].disabled = true;
                    inputs[1].disabled = true;
                    inputs[2].disabled = true;
                    $('#EditEvent #dateandtime_input').val(calEvent.startDate + 'T' + calEvent.startTime);
                    $('#EditEvent #venue_select').val(calEvent.Venue);
                    $('#EditEvent #description_textarea').val(calEvent.Note);
                    $('#EditEvent #EventID').val(calEvent.Id)
                    a[0].className = "modal fade show";

                },
                eventDrop: function (event, delta, revertFunc) {
                    //if (confirm(event.title + " was dropped on " + event.start.format() + "   Are you sure about this change?")) {
                    //    DragandDrop(event.Id, event.start.format());
                    //}
                    //else { revertFunc(); }
                    if (event.special == '0' || $('#HannahAdd').length > 0) {
                        DragandDrop(event.Id, event.start.format());
                        event.startDate = event.start.format().substring(0, 10);
                        event.startTime = event.start.format().substring(11, 16);
                        $('#calendar2').fullCalendar('updateEvent', event);
                    }
                    else {
                        tempAlert('Event Cannot Edit', 2000);
                        revertFunc();
                    }
                }
            }).on('click', '.fc-basicWeek-button', function () {
                //var b = $('.fc-basicWeek-button');
                //b[1].className = "fc-basicWeek-button fc-button fc-state-default fc-state-active";
                //$('#calendar2Parent').css('width', '100%');
                //$('#day_div2').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
            }).on('click', '.fc-month-button', function () {
                //var c = $('.fc-month-button');
                //c[1].className = "fc-month-button fc-button fc-state-default fc-corner-left fc-state-active";
                //$('#calendar2Parent').css('width', '100%');
                //$('#day_div2').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
            });

        };

        function GenerationCalendar3(events) {
            $('#calendar3').fullCalendar('destroy');
            $('#calendar3').fullCalendar({
                contentHeight: "auto",
                defaultDate: new Date(),
                timeFormat: 'h(:mm)a',
                header: {
                    right: '',
                    center: '',
                    left: ''
                },
                editable: true,
                defaultView: '',
                showNonCurrentDates: false,
                eventLimit: false,
                dayNamesShort: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                customButtons: {
                    CustomView: {
                        text: 'Day',
                        click: function () {
                            //var b = $('.fc-basicWeek-button');
                            //b[2].className = "fc-basicWeek-button fc-button fc-state-default";
                            //var c = $('.fc-month-button');
                            //c[2].className = "fc-month-button fc-button fc-state-default fc-corner-left";
                            //$('#calendar3Parent').css('width', '60%');
                            //$('.fc-view-container').hide();
                            //$('.fc-center').hide();
                            //$('.fc-right').hide();
                            //$('#day_div3').show();
                            //$('#PrintWAM').css({ "display": "none" });
                            //$('#PrintDAY').css({ "display": "inline-block" });
                        }
                    }
                },
                eventColor: 'white',
                events: events,
                eventRender: function (event, element) {
                    if (event.code != undefined && event.code.trim() != '') {
                        element.find('.fc-title').append("<span> - " + event.code + "</span>");
                    }
                },
                dayClick: function (date, jsEvent, view) {
                    var a = $('#ADD_CANCEL');
                    var b = $('#ADD_CANCEL_title');
                    var c = date.format();
                    b[0].innerHTML = c;
                    a[0].className = "modal fade show";
                },
                eventClick: function (calEvent, jsEvent, view) {
                    var a = $('#EDIT_COPY_DELETE_CANCEL');
                    var b = $('#EDIT_COPY_DELETE_CANCEL_title');
                    var c = calEvent.startDate;
                    b[0].innerHTML = c;
                    $(this).css('border-color', 'red');
                    $('#Event_Special').val(calEvent.special);

                    //$('#activity_select2').children('option:not(:first)').remove();
                    //$.get("/Home/getCategoriesForCalendar", {}, function (data) {
                    //    for (var i = 0; i < data.length; i++) {
                    //        $('#activity_select2').append('<option value="' + data[i].Id + '">' + data[i].Name + '</option>');
                    //    }
                    //    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    //});
                    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    $('#EditEvent #venue_select2').val(calEvent.Venue);

                    $('#EditEvent #display_title_input').val(calEvent.title);
                    var inputs = $("#EditEvent input[type=radio]");
                    inputs[0].disabled = true;
                    inputs[1].disabled = true;
                    inputs[2].disabled = true;
                    $('#EditEvent #dateandtime_input').val(calEvent.startDate + 'T' + calEvent.startTime);
                    $('#EditEvent #venue_select').val(calEvent.Venue);
                    $('#EditEvent #description_textarea').val(calEvent.Note);
                    $('#EditEvent #EventID').val(calEvent.Id)
                    a[0].className = "modal fade show";

                },
                eventDrop: function (event, delta, revertFunc) {
                    //if (confirm(event.title + " was dropped on " + event.start.format() + "   Are you sure about this change?")) {
                    //    DragandDrop(event.Id, event.start.format());
                    //}
                    //else { revertFunc(); }
                    if (event.special == '0' || $('#HannahAdd').length > 0) {
                        DragandDrop(event.Id, event.start.format());
                        event.startDate = event.start.format().substring(0, 10);
                        event.startTime = event.start.format().substring(11, 16);
                        $('#calendar3').fullCalendar('updateEvent', event);
                    }
                    else {
                        tempAlert('Event Cannot Edit', 2000);
                        revertFunc();
                    }
                }
            }).on('click', '.fc-basicWeek-button', function () {
                //var b = $('.fc-basicWeek-button');
                //b[2].className = "fc-basicWeek-button fc-button fc-state-default fc-state-active";
                //$('#calendar3Parent').css('width', '100%');
                //$('#day_div3').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
            }).on('click', '.fc-month-button', function () {
                //var c = $('.fc-month-button');
                //c[2].className = "fc-month-button fc-button fc-state-default fc-corner-left fc-state-active";
                //$('#calendar3Parent').css('width', '100%');
                //$('#day_div3').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
            });

        };

        function GenerationCalendar4(events) {
            $('#calendar4').fullCalendar('destroy');
            $('#calendar4').fullCalendar({
                contentHeight: "auto",
                defaultDate: new Date(),
                timeFormat: 'h(:mm)a',
                header: {
                    right: '',
                    center: '',
                    left: ''
                    //month,basicWeek,CustomView
                },
                editable: true,
                defaultView: '',
                showNonCurrentDates: false,
                eventLimit: false,
                dayNamesShort: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                customButtons: {
                    CustomView: {
                        text: 'Day',
                        click: function () {
                            //var b = $('.fc-basicWeek-button');
                            //b[3].className = "fc-basicWeek-button fc-button fc-state-default";
                            //var c = $('.fc-month-button');
                            //c[3].className = "fc-month-button fc-button fc-state-default fc-corner-left";
                            //$('#calendar4Parent').css('width', '60%');
                            //$('.fc-view-container').hide();
                            //$('.fc-center').hide();
                            //$('.fc-right').hide();
                            //$('#day_div4').show();
                            //$('#PrintWAM').css({ "display": "none" });
                            //$('#PrintDAY').css({ "display": "inline-block" });
                        }
                    }
                },
                eventColor: 'white',
                events: events,
                eventRender: function (event, element) {
                    if (event.code != undefined && event.code.trim() != '') {
                        element.find('.fc-title').append("<span> - " + event.code + "</span>");
                    }
                },
                dayClick: function (date, jsEvent, view) {
                    var a = $('#ADD_CANCEL');
                    var b = $('#ADD_CANCEL_title');
                    var c = date.format();
                    b[0].innerHTML = c;
                    a[0].className = "modal fade show";
                },
                eventClick: function (calEvent, jsEvent, view) {
                    var a = $('#EDIT_COPY_DELETE_CANCEL');
                    var b = $('#EDIT_COPY_DELETE_CANCEL_title');
                    var c = calEvent.startDate;
                    b[0].innerHTML = c;
                    $(this).css('border-color', 'red');
                    $('#Event_Special').val(calEvent.special);

                    //$('#activity_select2').children('option:not(:first)').remove();
                    //$.get("/Home/getCategoriesForCalendar", {}, function (data) {
                    //    for (var i = 0; i < data.length; i++) {
                    //        $('#activity_select2').append('<option value="' + data[i].Id + '">' + data[i].Name + '</option>');
                    //    }
                    //    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    //});
                    $('#EditEvent #activity_select2').val(calEvent.ActivityID);
                    $('#EditEvent #venue_select2').val(calEvent.Venue);


                    $('#EditEvent #display_title_input').val(calEvent.title);
                    var inputs = $("#EditEvent input[type=radio]");
                    inputs[0].disabled = true;
                    inputs[1].disabled = true;
                    inputs[2].disabled = true;
                    $('#EditEvent #dateandtime_input').val(calEvent.startDate + 'T' + calEvent.startTime);
                    $('#EditEvent #venue_select').val(calEvent.Venue);
                    $('#EditEvent #description_textarea').val(calEvent.Note);
                    $('#EditEvent #EventID').val(calEvent.Id)
                    a[0].className = "modal fade show";

                },
                eventDrop: function (event, delta, revertFunc) {
                    //if (confirm(event.title + " was dropped on " + event.start.format() + "   Are you sure about this change?")) {
                    //    DragandDrop(event.Id, event.start.format());
                    //}
                    //else { revertFunc(); }
                    if (event.special == '0' || $('#HannahAdd').length > 0) {
                        DragandDrop(event.Id, event.start.format());
                        event.startDate = event.start.format().substring(0, 10);
                        event.startTime = event.start.format().substring(11, 16);
                        $('#calendar4').fullCalendar('updateEvent', event);
                    }
                    else {
                        tempAlert('Event Cannot Edit', 2000);
                        revertFunc();
                    }
                }
            }).on('click', '.fc-basicWeek-button', function () {
                //var b = $('.fc-basicWeek-button');
                //b[3].className = "fc-basicWeek-button fc-button fc-state-default fc-state-active";
                //$('#calendar4Parent').css('width', '100%');
                //$('#day_div4').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
            }).on('click', '.fc-month-button', function () {
                //var c = $('.fc-month-button');
                //c[3].className = "fc-month-button fc-button fc-state-default fc-corner-left fc-state-active";
                //$('#calendar4Parent').css('width', '100%');
                //$('#day_div4').hide();
                //$('.fc-view-container').show();
                //$('.fc-center').show();
                //$('.fc-right').show();
                //$('#PrintDAY').css({ "display": "none" });
                //$('#PrintWAM').css({ "display": "inline-block" });
            });

        };

    });

    function changeCategory(ee) {
        $('#calendar').fullCalendar("removeEvents");
        $('#calendar2').fullCalendar("removeEvents");
        $('#calendar3').fullCalendar("removeEvents");
        $('#calendar4').fullCalendar("removeEvents");

        if (ee == '0') {

            $.ajax({
                type: "GET",
                url: "/home/getEvents_mike",
                success: function (data) {
                    $.each(data, function (i, v) {


                        data.push({
                            Id: v.id,
                            title: v.title,
                            start: v.startT,
                            end: v.endT != null ? v.endT : null,
                            startDate: v.startDate,
                            Venue: v.Venue,
                            Note: v.note,
                            Category: v.Category,
                            ActivityID: v.ActivityId,
                            startTime: v.startTime,
                            special: v.Special,
                            code: v.Code
                        });
                        
                    })
                    $('#calendar').fullCalendar('renderEvents', data);

                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })

            $.ajax({
                type: "GET",
                url: "/home/getEvents_C2_mike",
                success: function (data) {
                    $.each(data, function (i, v) {

                        data.push({
                            Id: v.id,
                            title: v.title,
                            start: v.startT,
                            end: v.endT != null ? v.endT : null,
                            startDate: v.startDate,
                            Venue: v.Venue,
                            Note: v.note,
                            Category: v.Category,
                            ActivityID: v.ActivityId,
                            startTime: v.startTime,
                            special: v.Special,
                            code: v.Code
                        });
                        
                    })
                    $('#calendar2').fullCalendar('renderEvents', data);

                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })

            $.ajax({
                type: "GET",
                url: "/home/getEvents_C3_mike",
                success: function (data) {
                    $.each(data, function (i, v) {

                        data.push({
                            Id: v.id,
                            title: v.title,
                            start: v.startT,
                            end: v.endT != null ? v.endT : null,
                            startDate: v.startDate,
                            Venue: v.Venue,
                            Note: v.note,
                            Category: v.Category,
                            ActivityID: v.ActivityId,
                            startTime: v.startTime,
                            special: v.Special,
                            code: v.Code
                        });
                        
                    })
                    $('#calendar3').fullCalendar('renderEvents', data);

                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })

            $.ajax({
                type: "GET",
                url: "/home/getEvents_C4_mike",
                success: function (data) {
                    $.each(data, function (i, v) {

                        data.push({
                            Id: v.id,
                            title: v.title,
                            start: v.startT,
                            end: v.endT != null ? v.endT : null,
                            startDate: v.startDate,
                            Venue: v.Venue,
                            Note: v.note,
                            Category: v.Category,
                            ActivityID: v.ActivityId,
                            startTime: v.startTime,
                            special: v.Special,
                            code: v.Code
                        });
                        
                    })
                    $('#calendar4').fullCalendar('renderEvents', data);

                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })
        }
        else {
            $.ajax({
                type: "GET",
                url: "/home/getEvents_mike",
                success: function (data) {
                    $.each(data, function (i, v) {
                        if (v.Category.toString() == ee.toString()) {
                            data.push({
                                Id: v.id,
                                title: v.title,
                                start: v.startT,
                                end: v.endT != null ? v.endT : null,
                                startDate: v.startDate,
                                Venue: v.Venue,
                                Note: v.note,
                                Category: v.Category,
                                ActivityID: v.ActivityId,
                                startTime: v.startTime,
                                special: v.Special,
                                code: v.Code
                            });
                        }
                    })
                    $('#calendar').fullCalendar('renderEvents', data);
                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })

            $.ajax({
                type: "GET",
                url: "/home/getEvents_C2_mike",
                success: function (data) {
                    $.each(data, function (i, v) {
                        if (v.Category.toString() == ee) {

                            data.push({
                                Id: v.id,
                                title: v.title,
                                start: v.startT,
                                end: v.endT != null ? v.endT : null,
                                startDate: v.startDate,
                                Venue: v.Venue,
                                Note: v.note,
                                Category: v.Category,
                                ActivityID: v.ActivityId,
                                startTime: v.startTime,
                                special: v.Special,
                                code: v.Code
                            });
                        }
                    })
                    $('#calendar2').fullCalendar('renderEvents', data);

                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })

            $.ajax({
                type: "GET",
                url: "/home/getEvents_C3_mike",
                success: function (data) {
                    $.each(data, function (i, v) {
                        if (v.Category.toString() == ee) {

                            data.push({
                                Id: v.id,
                                title: v.title,
                                start: v.startT,
                                end: v.endT != null ? v.endT : null,
                                startDate: v.startDate,
                                Venue: v.Venue,
                                Note: v.note,
                                Category: v.Category,
                                ActivityID: v.ActivityId,
                                startTime: v.startTime,
                                special: v.Special,
                                code: v.Code
                            });
                        }
                    })
                    $('#calendar3').fullCalendar('renderEvents', data);

                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })

            $.ajax({
                type: "GET",
                url: "/home/getEvents_C4_mike",
                success: function (data) {
                    $.each(data, function (i, v) {
                        if (v.Category.toString() == ee) {

                            data.push({
                                Id: v.id,
                                title: v.title,
                                start: v.startT,
                                end: v.endT != null ? v.endT : null,
                                startDate: v.startDate,
                                Venue: v.Venue,
                                Note: v.note,
                                Category: v.Category,
                                ActivityID: v.ActivityId,
                                startTime: v.startTime,
                                special: v.Special,
                                code: v.Code
                            });
                        }
                    })
                    $('#calendar4').fullCalendar('renderEvents', data);

                },

                error: function (error) {
                    tempAlert('failed', 2000);
                }
            })
        }


        update_day_div_all(ee);

      
    }

    function changeCategory2(ee) {
        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        update_day_div_all(ee);
        RESIZEIMAGE();
    }

    function changeCategory2_not_using_right_now() {
        $('#calendar .fc-event .fc-content b').each(function () {
            if (this.innerHTML == '1') {
                this.parentElement.parentElement.parentElement.style.display = 'none'
            }
        })
    }

</script>

<script>

    $("#AddEvent input[type=radio]").on("click", function () {
        if ($("input:checked").val() == '1') {
            //$('#datefrom_input').val('');
            //$('#dateto_input').val('');
            //$('#weekday_select').val('');
            //$('#time_input').val('');
            $('#datefrom').hide();
            $('#dateto').hide();
            $('#weekday').hide();
            $('#time').hide();
            $('#dateandtime').show();
        }
        else if ($("input:checked").val() == '2') {
            //$('#dateandtime_input').val('');
            //$('#datefrom_input').val('');
            //$('#dateto_input').val('');
            $('#dateandtime').hide();
            $('#datefrom').hide();
            $('#dateto').hide();
            $('#weekday').show();
            $('#time').show();
        }
        else if ($("input:checked").val() == '3') {
            //$('#dateandtime_input').val('');
            //$('#weekday_select').val('');
            $('#dateandtime').hide();
            $('#weekday').hide();
            $('#datefrom').show();
            $('#dateto').show();
            $('#time').show();
        }
    });

    $('form[name="addEventForm"]').submit(function (event) {
        var first = $("#AddEvent #display_title_input").val();
        var second = $("#AddEvent #activity_select").val();
        var third = $("#AddEvent #dateandtime_input").val();
        var forth = $("#AddEvent #weekday_select").val();
        var fifth = $("#AddEvent #datefrom_input").val();
        var sixth = $("#AddEvent #dateto_input").val();
        var seventh = $("#AddEvent #time_input").val();
        var eighth = $("#AddEvent #venue_select").val();
        //var ninth = $("#AddEvent #description_textarea").val();
        var ninth = "";
        if (first == '' || second == '') { tempAlert("Mandatory Required", 2000); return false; }
        else {
            var a = $("#AddEvent input[type=radio]:checked").val();
            if (a == '1') {
                if (third == '') { tempAlert("Mandatory Required", 2000); return false; }
                else {
                    event.preventDefault();
                    submitform(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, '1');
                }
            }
            else if (a == '2') {
                if (forth == '' || seventh == '') { tempAlert("Mandatory Required", 2000); return false; }
                else {
                    event.preventDefault();
                    submitform(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, '2');
                }
            }
            else if (a == '3') {
                if (fifth == '' || sixth == '' || seventh == '') { tempAlert("Mandatory Required", 2000); return false; }
                else {
                    event.preventDefault();
                    submitform(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, '3');
                }
            }
            else { tempAlert("Saved Failed", 2000); return false; }
        }
    });

    function submitform(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, a) {
        var tab = $('#hiddentab').val();
        if (tab == "a" || tab == "") whichcalendar = "#calendar";
        else if (tab == "b")        whichcalendar = "#calendar2";
        else if (tab == "c")        whichcalendar = "#calendar3";
        else if (tab == "d")        whichcalendar = "#calendar4";
        var posting = $.post("/Home/AddEvents_mike_All", { aa: first, bb: second, cc: third, dd: forth, ee: fifth, ff: sixth, gg: seventh, hh: eighth, ii: ninth, fre: a, tab: tab });
        posting.done(function (data) {
            for (var ind = 0; ind < data.length; ind++) {
                var event = {
                    Id: data[ind].id,
                    title: data[ind].title,
                    start: data[ind].startT,
                    end: data[ind].endT != null ? data[ind].endT : null,
                    startDate: data[ind].startDate,
                    Venue: data[ind].Venue,
                    Note: data[ind].note,
                    Category: data[ind].Category,
                    ActivityID: data[ind].ActivityId,
                    startTime: data[ind].startTime,
                    special: data[ind].Special,
                    code: data[ind].Code
                };
                var xx = scrollX;
                var yy = scrollY;
                if ($('#categorychoose').val() == '0' || data[ind].Category.toString().trim() == $('#categorychoose').val()) {
                    $(whichcalendar).fullCalendar('renderEvent', event, true);
                    update_day_div();
                }
                scroll(xx, yy);
            }
            $('#AddEvent').modal('hide');
            cancel1();
        });


    }

    $('form[name="addEventForm2"]').submit(function (event) {
        var ID = $('#EditEvent #EventID').val();
        var first = $("#EditEvent #display_title_input").val();
        var second = $("#EditEvent #activity_select2").val();
        var third = $("#EditEvent #dateandtime_input").val();
        var eighth = $("#EditEvent #venue_select2").val();
        //var ninth = $("#EditEvent #description_textarea").val();
        var ninth = "";
        if (first == '' || second == '' || third == '') { tempAlert("Mandatory Required", 2000); return false; }
        else {
            event.preventDefault();
            submitform2(ID, first, second, third, eighth, ninth);
        }
    });

    function submitform2(ID, first, second, third, eighth, ninth) {
        var tab = $('#hiddentab').val();
        if (tab == "a" || tab == "") whichcalendar = "#calendar";
        else if (tab == "b")        whichcalendar = "#calendar2";
        else if (tab == "c")        whichcalendar = "#calendar3";
        else if (tab == "d")        whichcalendar = "#calendar4";

        var posting = $.post("/Home/AddEvents_mike_EDIT_All", { ID: ID, aa: first, bb: second, cc: third, hh: eighth, ii: ninth,tab:tab });
        posting.done(function (data) {
            for (var ind = 0; ind < data.length; ind++) {
                $(whichcalendar).fullCalendar('removeEvents', function (event) {
                    return (event.Id == data[ind].id);
                });
                var event = {
                    Id: data[ind].id,
                    title: data[ind].title,
                    start: data[ind].startT,
                    end: data[ind].endT != null ? data[ind].endT : null,
                    startDate: data[ind].startDate,
                    Venue: data[ind].Venue,
                    Note: data[ind].note,
                    Category: data[ind].Category,
                    ActivityID: data[ind].ActivityId,
                    startTime: data[ind].startTime,
                    special: data[ind].Special,
                    code: data[ind].Code
                };
                if ($('#categorychoose').val() == '0' || data[ind].Category.toString().trim() == $('#categorychoose').val()) {
                    $(whichcalendar).fullCalendar('renderEvent', event, true);
                }
                update_day_div();
            }
            $('#EditEvent').modal('hide');
        });
    }

    $('form[name="addSpecialEventForm"]').submit(function (event) {
        var homestring = "";
        var AddType = $("#AddEvent_Hannan #AddType input[type=radio]:checked").val();
        if (AddType == '1') {
            homestring = 'All';
        }
        else if (AddType == '2') {
            homestring = $('#ProvinceSelect').val();
        }
        else if (AddType == '3') {
            $('#checkboxes label input').each(function () {
                if (this.checked == true) {
                    homestring = homestring + this.value + ",";
                }
            });
        }
       

        if (AddType == '3' && homestring == "") {
            tempAlert("Mandatory Required", 2000);
            return false;
        }

        var first = $("#AddEvent_Hannan #display_title_input").val();
        var second = $("#AddEvent_Hannan #activity_select3").val();
        var third = $("#AddEvent_Hannan #dateandtime_input").val();
        var forth = $("#AddEvent_Hannan #weekday_select").val();
        var fifth = $("#AddEvent_Hannan #datefrom_input").val();
        var sixth = $("#AddEvent_Hannan #dateto_input").val();
        var seventh = $("#AddEvent_Hannan #time_input").val();
        var eighth = $("#AddEvent_Hannan #venue_select3").val();
        var ninth = "";
        if (first == '' || second == '') { tempAlert("Mandatory Required", 2000); return false; }
        else {
            var a = $("#AddEvent_Hannan #frequency input[type=radio]:checked").val();
            if (a == '1') {
                if (third == '') { tempAlert("Mandatory Required", 2000); return false; }
                else {
                    event.preventDefault();
                    submitform3(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, '1', AddType, homestring);
                }
            }
            else if (a == '2') {
                if (forth == '' || seventh == '') { tempAlert("Mandatory Required", 2000); return false; }
                else {
                    event.preventDefault();
                    submitform3(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, '2', AddType, homestring);
                }
            }
            else if (a == '3') {
                if (fifth == '' || sixth == '' || seventh == '') { tempAlert("Mandatory Required", 2000); return false; }
                else {
                    event.preventDefault();
                    submitform3(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, '3', AddType, homestring);
                }
            }
            else { tempAlert("Saved Failed", 2000); return false; }
        }
    });

    function submitform3(first, second, third, forth, fifth, sixth, seventh, eighth, ninth, a, AddType, homestring) {
        var tab = $('#hiddentab').val();
        if (tab == "a" || tab == "") whichcalendar = "#calendar";
        else if (tab == "b") whichcalendar = "#calendar2";
        else if (tab == "c") whichcalendar = "#calendar3";
        else if (tab == "d") whichcalendar = "#calendar4";

        var posting = $.post("/Home/AddEvents_mike_Special_All", { aa: first, bb: second, cc: third, dd: forth, ee: fifth, ff: sixth, gg: seventh, hh: eighth, ii: ninth, fre: a, AddType: AddType, homestring: homestring,tab:tab });
        posting.done(function (data) {
            for (var ind = 0; ind < data.length; ind++) {
                var event = {
                    Id: data[ind].id,
                    title: data[ind].title,
                    start: data[ind].startT,
                    end: data[ind].endT != null ? data[ind].endT : null,
                    startDate: data[ind].startDate,
                    Venue: data[ind].Venue,
                    Note: data[ind].note,
                    Category: data[ind].Category,
                    ActivityID: data[ind].ActivityId,
                    startTime: data[ind].startTime,
                    special: data[ind].Special,
                    code: data[ind].Code
                };
                var xx = scrollX;
                var yy = scrollY;
                if ($('#categorychoose').val() == '0' || data[ind].Category.toString().trim() == $('#categorychoose').val()) {
                    $(whichcalendar).fullCalendar('renderEvent', event, true);
                    update_day_div();
                }
                scroll(xx, yy);
            }
            $('#AddEvent_Hannan').modal('hide');
            cancel1();
        });

    }

    function resetForm3() {
        var a = $("#AddEvent_Hannan #frequency input[type=radio]")
        a[0].checked = true;
        $("#AddEvent_Hannan #display_title_input").val('');
        $("#AddEvent_Hannan #activity_select3").val('');
        $('#AddEvent_Hannan #datefrom_input').val('');
        $('#AddEvent_Hannan #dateto_input').val('');
        $('#AddEvent_Hannan #weekday_select').val('');
        $('#AddEvent_Hannan #time_input').val('');
        $('#AddEvent_Hannan #datefrom_input').val('');
        $('#AddEvent_Hannan #dateto_input').val('');
        $('#AddEvent_Hannan #venue_select3').val('');

        var now = new Date();
        var nowString = new Date(now.getTime() - now.getTimezoneOffset() * 60000).toISOString().substring(0, 16);

        $('#AddEvent_Hannan #dateandtime_input').val(nowString);

        $('#AddEvent_Hannan #datefrom').hide();
        $('#AddEvent_Hannan #dateto').hide();
        $('#AddEvent_Hannan #weekday').hide();
        $('#AddEvent_Hannan #time').hide();
        $('#AddEvent_Hannan #dateandtime').show();

    }


    function DragandDrop(aa, bb) {

        var tab = $('#hiddentab').val();
        if (tab == "" || tab == "a") {
            $.post("/Home/EVENT_DragandDrop", { eventID: aa, destinationDT: bb }, function () {
                update_day_div();
            });
        }
        else if (tab == "b") {
            $.post("/Home/EVENT_DragandDrop2", { eventID: aa, destinationDT: bb }, function () {
                update_day_div();
            });
        }
        else if (tab == "c") {
            $.post("/Home/EVENT_DragandDrop3", { eventID: aa, destinationDT: bb }, function () {
                update_day_div();
            });
        }
        else if (tab == "d") {
            $.post("/Home/EVENT_DragandDrop4", { eventID: aa, destinationDT: bb }, function () {
                update_day_div();
            });
        }
    }

    function cancel1() {
        var a = $("#AddEvent input[type=radio]")
        a[0].checked = true;
        $("#display_title_input").val('');
        $("#activity_select").val('');
        $('#AddEvent #datefrom_input').val('');
        $('#AddEvent #dateto_input').val('');
        $('#AddEvent #weekday_select').val('');
        $('#AddEvent #time_input').val('');
        $('#AddEvent #datefrom_input').val('');
        $('#AddEvent #dateto_input').val('');
        $('#AddEvent #AddEvent #dateandtime_input').val('');
        $('#description_textarea').val('');
        $('#AddEvent #datefrom').hide();
        $('#AddEvent #dateto').hide();
        $('#AddEvent #weekday').hide();
        $('#AddEvent #time').hide();
        $('#AddEvent #dateandtime').show();



    }

    function add_event_small_div(ee) {
        var NOWTIME = new Date();
        var hour = NOWTIME.getHours();
        var minute = NOWTIME.getMinutes();
        if (hour < 10) {
            hour = '0' + hour;
        }
        if (minute < 10) {
            minute = '0' + minute;
        }
        var nowT = hour + ":" + minute;


        $('#ADD_CANCEL #CopyDivID').hide();
        $('#ADD_CANCEL #CopyEventID').val('');
        var selectdate = document.getElementById('ADD_CANCEL_title').innerHTML;
        $("#dateandtime_input").val(selectdate + 'T' + nowT);
        $("#datefrom_input").val(selectdate);
        //$('#activity_select').children().remove();
        //$('#activity_select').append('<option value="">-- Select --</option>');
        $('#activity_select').val("");
        $('#venue_select').val("");
        document.getElementById('ADD_CANCEL').className = 'modal fade';
    }

    function cancel_for_AddCancel() {
        $('#ADD_CANCEL #CopyDivID').hide();
        $('#ADD_CANCEL #CopyEventID').val('');
        document.getElementById('ADD_CANCEL').className = 'modal fade';
    }

    function deleteEvent(ee) {
        if ($('#Event_Special').val() == '0' || $('#HannahAdd').length > 0) {
            var aa = $('#EditEvent #EventID').val()
            var tab = $('#hiddentab').val();
            tempAlert2("Sure about Delete?");
            $('#EDIT_COPY_DELETE_CANCEL').removeClass('show');
        }
        else {
            tempAlert("Event Cannot Delete",2000);
        }




    }

    function EditEvent(ee) {


        if ($('#Event_Special').val() == '0' || $('#HannahAdd').length > 0) {
            document.getElementById('EDIT_COPY_DELETE_CANCEL').className = 'modal fade';
            $("#EditEvent").modal("show");
        }
        else {
            tempAlert("Event Cannot Edit", 2000);
        }
        

    }

    function copyEvent_Start(ee) {

        if ($('#Event_Special').val() == '0' || $('#HannahAdd').length>0) {
            var aa = $('#EditEvent #EventID').val();
            $('#ADD_CANCEL #CopyDivID').show();
            $('#ADD_CANCEL #CopyEventID').val(aa);
            document.getElementById('EDIT_COPY_DELETE_CANCEL').className = 'modal fade';
        }
        else {
            tempAlert('Event Cannot Copy', 2000);
        }


    }

    function copyEvent_End(ee) {
        var xx = scrollX;
        var yy = scrollY;
        var aa = $('#ADD_CANCEL #CopyEventID').val();
        var titles = $('#ADD_CANCEL #ADD_CANCEL_title')
        var DT = titles[0].innerHTML;
        var tab = $('#hiddentab').val();
        if (tab == "" || tab == "a") {
            $.get("/Home/COPY_EVENT", { eventID: aa, NewDate: DT }, function (data) {
                for (var ind = 0; ind < data.length; ind++) {
                    $('#calendar').fullCalendar('removeEvents', function (event) {
                        return (event.Id == data[ind].id);
                    });
                    var event = {
                        Id: data[ind].id,
                        title: data[ind].title,
                        start: data[ind].startT,
                        end: data[ind].endT != null ? data[ind].endT : null,
                        startDate: data[ind].startDate,
                        Venue: data[ind].Venue,
                        Note: data[ind].note,
                        Category: data[ind].Category,
                        ActivityID: data[ind].ActivityId,
                        startTime: data[ind].startTime,
                        special: data[ind].Special,
                        code: data[ind].Code
                    };
                    $('#calendar').fullCalendar('renderEvent', event, true);
                }
                update_day_div();
                document.getElementById('ADD_CANCEL').className = 'modal fade';
                scroll(xx, yy);
            });
        }
        else if (tab == "b") {
            $.get("/Home/COPY_EVENT2", { eventID: aa, NewDate: DT }, function (data) {
                for (var ind = 0; ind < data.length; ind++) {
                    $('#calendar2').fullCalendar('removeEvents', function (event) {
                        return (event.Id == data[ind].id);
                    });
                    var event = {
                        Id: data[ind].id,
                        title: data[ind].title,
                        start: data[ind].startT,
                        end: data[ind].endT != null ? data[ind].endT : null,
                        startDate: data[ind].startDate,
                        Venue: data[ind].Venue,
                        Note: data[ind].note,
                        Category: data[ind].Category,
                        ActivityID: data[ind].ActivityId,
                        startTime: data[ind].startTime,
                        special: data[ind].Special,
                        code: data[ind].Code
                    };
                    $('#calendar2').fullCalendar('renderEvent', event, true);
                }
                update_day_div();
                document.getElementById('ADD_CANCEL').className = 'modal fade';
                scroll(xx, yy);
            });
        }
        else if (tab == "c") {
            $.get("/Home/COPY_EVENT3", { eventID: aa, NewDate: DT }, function (data) {
                for (var ind = 0; ind < data.length; ind++) {
                    $('#calendar3').fullCalendar('removeEvents', function (event) {
                        return (event.Id == data[ind].id);
                    });
                    var event = {
                        Id: data[ind].id,
                        title: data[ind].title,
                        start: data[ind].startT,
                        end: data[ind].endT != null ? data[ind].endT : null,
                        startDate: data[ind].startDate,
                        Venue: data[ind].Venue,
                        Note: data[ind].note,
                        Category: data[ind].Category,
                        ActivityID: data[ind].ActivityId,
                        startTime: data[ind].startTime,
                        special: data[ind].Special,
                        code: data[ind].Code
                    };
                    $('#calendar3').fullCalendar('renderEvent', event, true);
                }
                update_day_div();
                document.getElementById('ADD_CANCEL').className = 'modal fade';
                scroll(xx, yy);
            });
        }
        else if (tab == "d") {
            $.get("/Home/COPY_EVENT4", { eventID: aa, NewDate: DT }, function (data) {
                for (var ind = 0; ind < data.length; ind++) {
                    $('#calendar4').fullCalendar('removeEvents', function (event) {
                        return (event.Id == data[ind].id);
                    });
                    var event = {
                        Id: data[ind].id,
                        title: data[ind].title,
                        start: data[ind].startT,
                        end: data[ind].endT != null ? data[ind].endT : null,
                        startDate: data[ind].startDate,
                        Venue: data[ind].Venue,
                        Note: data[ind].note,
                        Category: data[ind].Category,
                        ActivityID: data[ind].ActivityId,
                        startTime: data[ind].startTime,
                        special: data[ind].Special,
                        code: data[ind].Code
                    };
                    $('#calendar4').fullCalendar('renderEvent', event, true);
                }
                update_day_div();
                document.getElementById('ADD_CANCEL').className = 'modal fade';
                scroll(xx, yy);
            });
        }


    }

    function update_day_div() {
        var tab = $('#hiddentab').val();
        //var dateselect = document.getElementById("lblCalendarMsg").innerHTML;
        var dateselect = $('#tempdate').val();

        var ee = $('#categorychoose').val();

        if (ee == '0') {
            if (tab == "a" || tab == "") {
                $.get("/Home/update_day_div1", { datesel: dateselect }, function (data) {
                    $('#day_div #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {

                        if (data[i].Category == ee) { }

                        $('#day_div #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }
                });
            }
            else if (tab == "b") {
                $.get("/Home/update_day_div2", { datesel: dateselect }, function (data) {
                    $('#day_div2 #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {
                        $('#day_div2 #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }
                });
            }
            else if (tab == "c") {
                $.get("/Home/update_day_div3", { datesel: dateselect }, function (data) {
                    $('#day_div3 #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {
                        $('#day_div3 #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }
                });
            }
            else if (tab == "d") {
                $.get("/Home/update_day_div4", { datesel: dateselect }, function (data) {
                    $('#day_div4 #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {
                        $('#day_div4 #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }
                });
            }
        }
        else {
            if (tab == "a" || tab == "") {
                $.get("/Home/update_day_div1", { datesel: dateselect }, function (data) {
                    $('#day_div #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {

                        if (data[i].Category == ee) {
                            $('#day_div #main_page #pills-day table tbody').append('' +

                                '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                                '<td>' + data[i].ProgramStartTime + '</td>' +
                                '<td>' + data[i].ProgramName + '</td>' +
                                '<td>' + data[i].Venue + '</td>' +
                                '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                                '<td>' + data[i].Active + '</td>' +
                                '<td>' + data[i].Declined + '</td>' +
                                '</tr>' +

                                '');
                        }


                    }
                });
            }
            else if (tab == "b") {
                $.get("/Home/update_day_div2", { datesel: dateselect }, function (data) {
                    $('#day_div2 #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {

                        if (data[i].Category == ee) {
                            $('#day_div2 #main_page #pills-day table tbody').append('' +

                                '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                                '<td>' + data[i].ProgramStartTime + '</td>' +
                                '<td>' + data[i].ProgramName + '</td>' +
                                '<td>' + data[i].Venue + '</td>' +
                                '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                                '<td>' + data[i].Active + '</td>' +
                                '<td>' + data[i].Declined + '</td>' +
                                '</tr>' +

                                '');
                        }


                    }
                });
            }
            else if (tab == "c") {
                $.get("/Home/update_day_div3", { datesel: dateselect }, function (data) {
                    $('#day_div3 #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {

                        if (data[i].Category == ee) {

                            $('#day_div3 #main_page #pills-day table tbody').append('' +

                                '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                                '<td>' + data[i].ProgramStartTime + '</td>' +
                                '<td>' + data[i].ProgramName + '</td>' +
                                '<td>' + data[i].Venue + '</td>' +
                                '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                                '<td>' + data[i].Active + '</td>' +
                                '<td>' + data[i].Declined + '</td>' +
                                '</tr>' +

                                '');
                        }


                    }
                });
            }
            else if (tab == "d") {
                $.get("/Home/update_day_div4", { datesel: dateselect }, function (data) {
                    $('#day_div4 #main_page #pills-day table tbody').html('');
                    for (var i = 0; i < data.length; i++) {

                        if (data[i].Category == ee) {
                            $('#day_div4 #main_page #pills-day table tbody').append('' +

                                '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                                '<td>' + data[i].ProgramStartTime + '</td>' +
                                '<td>' + data[i].ProgramName + '</td>' +
                                '<td>' + data[i].Venue + '</td>' +
                                '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                                '<td>' + data[i].Active + '</td>' +
                                '<td>' + data[i].Declined + '</td>' +
                                '</tr>' +

                                '');
                        }


                    }
                });
            }
        }





    }

    function update_day_div_all(ee) {

        var dateselect = $('#tempdate').val();

        if (ee == '0') {
            $.get("/Home/update_day_div1", { datesel: dateselect }, function (data) {
                $('#day_div #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {


                    $('#day_div #main_page #pills-day table tbody').append('' +

                        '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                        '<td>' + data[i].ProgramStartTime + '</td>' +
                        '<td>' + data[i].ProgramName + '</td>' +
                        '<td>' + data[i].Venue + '</td>' +
                        '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                        '<td>' + data[i].Active + '</td>' +
                        '<td>' + data[i].Declined + '</td>' +
                        '</tr>' +

                        '');
                }
            });

            $.get("/Home/update_day_div2", { datesel: dateselect }, function (data) {
                $('#day_div2 #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {
                    $('#day_div2 #main_page #pills-day table tbody').append('' +

                        '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                        '<td>' + data[i].ProgramStartTime + '</td>' +
                        '<td>' + data[i].ProgramName + '</td>' +
                        '<td>' + data[i].Venue + '</td>' +
                        '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                        '<td>' + data[i].Active + '</td>' +
                        '<td>' + data[i].Declined + '</td>' +
                        '</tr>' +

                        '');
                }
            });

            $.get("/Home/update_day_div3", { datesel: dateselect }, function (data) {
                $('#day_div3 #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {

                    $('#day_div3 #main_page #pills-day table tbody').append('' +

                        '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                        '<td>' + data[i].ProgramStartTime + '</td>' +
                        '<td>' + data[i].ProgramName + '</td>' +
                        '<td>' + data[i].Venue + '</td>' +
                        '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                        '<td>' + data[i].Active + '</td>' +
                        '<td>' + data[i].Declined + '</td>' +
                        '</tr>' +

                        '');
                }
            });

            $.get("/Home/update_day_div4", { datesel: dateselect }, function (data) {
                $('#day_div4 #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {
                    $('#day_div4 #main_page #pills-day table tbody').append('' +

                        '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                        '<td>' + data[i].ProgramStartTime + '</td>' +
                        '<td>' + data[i].ProgramName + '</td>' +
                        '<td>' + data[i].Venue + '</td>' +
                        '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                        '<td>' + data[i].Active + '</td>' +
                        '<td>' + data[i].Declined + '</td>' +
                        '</tr>' +

                        '');
                }
            });
        }
        else {
            $.get("/Home/update_day_div1", { datesel: dateselect }, function (data) {
                $('#day_div #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {

                    if (data[i].Category == ee) {
                        $('#day_div #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }


                }
            });

            $.get("/Home/update_day_div2", { datesel: dateselect }, function (data) {
                $('#day_div2 #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {

                    if (data[i].Category == ee) {
                        $('#day_div2 #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }


                }
            });

            $.get("/Home/update_day_div3", { datesel: dateselect }, function (data) {

                $('#day_div3 #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {

                    if (data[i].Category == ee) {
                        $('#day_div3 #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }


                }
            });

            $.get("/Home/update_day_div4", { datesel: dateselect }, function (data) {
                $('#day_div4 #main_page #pills-day table tbody').html('');
                for (var i = 0; i < data.length; i++) {

                    if (data[i].Category == ee) {
                        $('#day_div4 #main_page #pills-day table tbody').append('' +

                            '<tr name=' + data[i].ProgramId + ' id = ' + data[i].ProgramName + ' englishname = ' + data[i].ActivityNameEnglish + ' >' +
                            '<td>' + data[i].ProgramStartTime + '</td>' +
                            '<td>' + data[i].ProgramName + '</td>' +
                            '<td>' + data[i].Venue + '</td>' +
                            '<td><a data-toggle="modal" data-target="#attendent_form" onclick="open_form(this)" href="#"><i class="fa fa-file-text-o"></i></a></td>' +
                            '<td>' + data[i].Active + '</td>' +
                            '<td>' + data[i].Declined + '</td>' +
                            '</tr>' +

                            '');
                    }


                }
            });
        }

        







    }

    function Goto_Today() {
        var monthNames = [
            "January", "February", "March",
            "April", "May", "June", "July",
            "August", "September", "October",
            "November", "December"
        ];
        var today = new Date();
        var dd = today.getDate();
        if (dd < 10) {
            dd = '0' + dd
        }
        var mm = monthNames[today.getMonth()]; //January is 0!
        var yyyy = today.getFullYear();
        today = mm + ' ' + dd + ', ' + yyyy;
        document.getElementById("lblCalendarMsg").innerHTML = today.toString();
        document.getElementById("lblCalendarMsg2").innerHTML = today.toString();
        document.getElementById("lblCalendarMsg3").innerHTML = today.toString();
        document.getElementById("lblCalendarMsg4").innerHTML = today.toString();
        Update_When_Change_Date(today.toString());
    }


    //$('.printBtn').on('click', function () {

    //    $('.fc-event').css("min-height", "1.4vh!important");
    //    $('.fc-event').css("font-size", "0.5vw!important");
    //    $('#ACtivityCalendarTitle').css({ 'margin-left': '5vw' });
    //    $('#backbutton').hide();
    //    $('.caname').hide();
    //    $('.jumbotron').hide();
    //    window.print();
    //    $('.fc-event').css("min-height", "2.8vh!important");
    //    $('.fc-event').css("font-size", "1vw!important");
    //    $('#ACtivityCalendarTitle').css({ 'margin-left': '0' });
    //    $('#backbutton').show();
    //    $('.caname').show();
    //    $('.jumbotron').show();
    //});

    $('.print2').click(function () {
        scrollTo(0, 0);
        var tab = $('#hiddentab').val();
        var whichcalendar = "";
        var calendardiv = "";
        if (tab == "a" || tab == "") {
            whichcalendar = "#calendar";
            calendardiv = "fromHTMLtestdivPrint1";
        }
        else if (tab == "b") {
            whichcalendar = "#calendar2";
            calendardiv = "fromHTMLtestdivPrint2";
        }
        else if (tab == "c") {
            whichcalendar = "#calendar3";
            calendardiv = "fromHTMLtestdivPrint3";
        }
        else if (tab == "d") {
            whichcalendar = "#calendar4";
            calendardiv = "fromHTMLtestdivPrint4";
        }
        var contextHeight = $('.container-fixed-lg:eq(1)').height();
        var cardHeight = $('.card-block').height();
        var fromHeight = $('#' + calendardiv).height();
        $(whichcalendar + ' .fc-event').css("font-size", "17px");
        $(whichcalendar + ' .fc-event').css("min-height", "1vh");
        //$('#calendar').fullCalendar('option', 'contentHeight', 1800);
        $(whichcalendar).css("width", "93%")
        $(whichcalendar).css({ 'margin-top': '-240px' });
        $('#' + calendardiv).css({ 'margin-top': '0' });
        RESIZEIMAGE();
        var srcEl = document.getElementById(calendardiv);
        //var tab = $('#hiddentab').val();
        var scaleFactor = 2;

        var originalWidth = srcEl.offsetWidth;
        var originalHeight = srcEl.offsetHeight;
        // Force px size (no %, EMs, etc)
        srcEl.style.width = originalWidth + "px";
        srcEl.style.height = originalHeight + "px";

        // Position the element at the top left of the document because of bugs in html2canvas. The bug exists when supplying a custom canvas, and   //the rendering on the custom canvas based on the offset of the source element on the page; thus the source element MUST be at 0, 0.
        // See html2canvas issues #790, #820, #893, #922
        srcEl.style.position = "absolute";
        srcEl.style.top = "0";
        srcEl.style.left = "0";

        // Create scaled canvas
        var scaledCanvas = document.createElement("canvas");
        scaledCanvas.width = originalWidth * scaleFactor;
        scaledCanvas.height = originalHeight * scaleFactor;
        scaledCanvas.style.width = originalWidth + "px";
        scaledCanvas.style.height = originalHeight + "px";
        var scaledContext = scaledCanvas.getContext("2d");
        scaledContext.scale(scaleFactor, scaleFactor);

        html2canvas(srcEl, { canvas: scaledCanvas })
            .then(function (canvas) {
                var imgData = canvas.toDataURL('image/png');
                var imgWidth = 210;
                var pageHeight = 395;

                var imgHeight = canvas.height * imgWidth / canvas.width;
                var heightLeft = imgHeight;

                var doc = new jsPDF('p', 'mm','legal',true);
                var position = 0;

                doc.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight, '', 'FAST');
                doc.setTextColor('#000');
                var context = canvas.getContext('2d');
                context.scale(2, 2);
                heightLeft -= pageHeight;

                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight;
                    doc.addPage();
                    doc.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight, '', 'FAST');
                    var context = canvas.getContext('2d');
                    context.scale(2, 2);
                    doc.setTextColor('#000');
                    heightLeft -= pageHeight;
                }
                var filename = "Activity_Calendar";
                doc.save(filename + '.pdf');
            });

        $(whichcalendar + ' .fc-event').css("font-size", "1vw");
        $(whichcalendar + ' .fc-event').css("min-height", "2.7vh");
        //$('#calendar').fullCalendar('option', 'contentHeight', 1400);
        $(whichcalendar).css("width", "100%")
        $('#' + calendardiv).css({ 'margin-top': '35vh' });
        $('.container-fixed-lg:eq(1)').height(contextHeight);
        $('.card-block').height(cardHeight);
        $('#' + calendardiv).height(fromHeight);

        RESIZEIMAGE();



    })

    $('.print').click(function () {
        scrollTo(0, 0);
        $('.fromHTMLtestdiv').css({ 'margin-top': '0' });
        $('.fromHTMLtestdiv').css({ 'height': '95vh' });

        var srcEl_sub = document.getElementsByClassName("fromHTMLtestdiv");
        var tab = $('#hiddentab').val();
        if (tab == "" || tab == "a") {
            var srcEl = srcEl_sub[0];
        }
        else if (tab == "b") {
            var srcEl = srcEl_sub[1];
        }
        else if (tab == "c") {
            var srcEl = srcEl_sub[2];
        }
        else if (tab == "d") {
            var srcEl = srcEl_sub[3];
        }

        var scaleFactor = 1;

        var originalWidth = srcEl.offsetWidth;
        var originalHeight = srcEl.offsetHeight;
        // Force px size (no %, EMs, etc)
        srcEl.style.width = originalWidth + "px";
        srcEl.style.height = originalHeight + "px";

        // Position the element at the top left of the document because of bugs in html2canvas. The bug exists when supplying a custom canvas, and   //the rendering on the custom canvas based on the offset of the source element on the page; thus the source element MUST be at 0, 0.
        // See html2canvas issues #790, #820, #893, #922
        srcEl.style.position = "absolute";
        srcEl.style.top = "0";
        srcEl.style.left = "0";

        // Create scaled canvas
        var scaledCanvas = document.createElement("canvas");
        scaledCanvas.width = originalWidth * scaleFactor;
        scaledCanvas.height = originalHeight * scaleFactor;
        scaledCanvas.style.width = originalWidth + "px";
        scaledCanvas.style.height = originalHeight + "px";
        var scaledContext = scaledCanvas.getContext("2d");
        scaledContext.scale(scaleFactor, scaleFactor);

        html2canvas(srcEl, { canvas: scaledCanvas })
            .then(function (canvas) {
                var imgData = canvas.toDataURL('image/png');
                var imgWidth = 210;
                var pageHeight = 295;
                var imgHeight = canvas.height * imgWidth / canvas.width;
                var heightLeft = imgHeight;

                var doc = new jsPDF('p', 'mm');
                var position = 0;

                doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                doc.setTextColor('#000');
                var context = canvas.getContext('2d');
                context.scale(2, 2);
                heightLeft -= pageHeight;

                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight;
                    doc.addPage();
                    doc.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight);
                    var context = canvas.getContext('2d');
                    context.scale(2, 2);
                    doc.setTextColor('#000');
                    heightLeft -= pageHeight;
                }
                var filename = "Activity_Calendar";
                doc.save(filename + '.pdf');
            });
        $('.fromHTMLtestdiv').css({ 'margin-top': '11.5%' });
        $('.fromHTMLtestdiv').css({ 'height': '' });

    })


    $("#month1").click(function () {


        //$('#calendar1Parent').css('width', '100%');
        $('#day_div').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar").fullCalendar("changeView", "month");

        var view = $('#calendar').fullCalendar('getView');
        $('#lblCalendarMsg').html(view.title);
        if ($('#calendar #imgBot').length == 0) {
            getImage();
        }

        $('#DWM').val('month');

        $('#month1').css("background-color", "cornflowerblue");
        $('#day1').css("background-color", "#015093");
        $('#week1').css("background-color", "#015093");
        $('#calendar').fullCalendar('option', 'contentHeight', "auto");
        if ($('.card-block').height() < $('#calendar').height()) {
            $('.card-block').height($('#calendar').height() + 200);

        }
        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();



    });
    $("#week1").click(function () {
        //$('#calendar1Parent').css('width', '100%');
        $('#day_div').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar").fullCalendar("changeView", "basicWeek");

        var view = $('#calendar').fullCalendar('getView');
        $('#lblCalendarMsg').html(view.title);

        $('#DWM').val('week');

        $('#week1').css("background-color", "cornflowerblue");
        $('#day1').css("background-color", "#015093");
        $('#month1').css("background-color", "#015093");

        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();
    });
    $("#day1").click(function () {
        //$('#calendar1Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div').show();
        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        //$("#calendar").fullCalendar("changeView", "CustomView");
        var temp = $('#tempdate').val();
        $('#lblCalendarMsg').html(temp);

        $('#DWM').val('day');

        $('#day1').css("background-color", "cornflowerblue");
        $('#month1').css("background-color", "#015093");
        $('#week1').css("background-color", "#015093");
        $('.hannahselector').hide();
    });

    $("#month2").click(function () {
        //$('#calendar2Parent').css('width', '100%');
        $('#day_div2').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar2").fullCalendar("changeView", "month");

        var view = $('#calendar2').fullCalendar('getView');
        $('#lblCalendarMsg2').html(view.title);
        if ($('#calendar2 #imgBot').length == 0) {
            getImage();
        }
        $('#DWM').val('month');

        $('#month2').css("background-color", "cornflowerblue");
        $('#day2').css("background-color", "#015093");
        $('#week2').css("background-color", "#015093");
        $('#calendar2').fullCalendar('option', 'contentHeight', "auto");
        if ($('.card-block').height() < $('#calendar2').height()) {
            $('.card-block').height($('#calendar2').height() + 200);

        }
        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();
    });
    $("#week2").click(function () {
        //$('#calendar2Parent').css('width', '100%');
        $('#day_div2').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar2").fullCalendar("changeView", "basicWeek");

        var view = $('#calendar2').fullCalendar('getView');
        $('#lblCalendarMsg2').html(view.title);

        $('#DWM').val('week');

        $('#week2').css("background-color", "cornflowerblue");
        $('#day2').css("background-color", "#015093");
        $('#month2').css("background-color", "#015093");

        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();
    });
    $("#day2").click(function () {
        //$('#calendar2Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div2').show();
        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        //$("#calendar2").fullCalendar("changeView", "CustomView");
        var temp = $('#tempdate').val();
        $('#lblCalendarMsg2').html(temp);

        $('#DWM').val('day');

        $('#day2').css("background-color", "cornflowerblue");
        $('#week2').css("background-color", "#015093");
        $('#month2').css("background-color", "#015093");
        $('.hannahselector').hide();
    });

    $("#month3").click(function () {
        //$('#calendar3Parent').css('width', '100%');
        $('#day_div3').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar3").fullCalendar("changeView", "month");

        var view = $('#calendar3').fullCalendar('getView');
        $('#lblCalendarMsg3').html(view.title);
        if ($('#calendar3 #imgBot').length == 0) {
            getImage();
        }
        $('#DWM').val('month');

        $('#month3').css("background-color", "cornflowerblue");
        $('#day3').css("background-color", "#015093");
        $('#week3').css("background-color", "#015093");
        $('#calendar3').fullCalendar('option', 'contentHeight', "auto");
        if ($('.card-block').height() < $('#calendar3').height()) {
            $('.card-block').height($('#calendar3').height() + 200);

        }
        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();
    });
    $("#week3").click(function () {
        //$('#calendar3Parent').css('width', '100%');
        $('#day_div3').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar3").fullCalendar("changeView", "basicWeek");

        var view = $('#calendar3').fullCalendar('getView');
        $('#lblCalendarMsg3').html(view.title);

        $('#DWM').val('week');

        $('#week3').css("background-color", "cornflowerblue");
        $('#day3').css("background-color", "#015093");
        $('#month3').css("background-color", "#015093");

        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();
    });
    $("#day3").click(function () {
        //$('#calendar3Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div3').show();
        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        //$("#calendar3").fullCalendar("changeView", "CustomView");
        var temp = $('#tempdate').val();
        $('#lblCalendarMsg3').html(temp);

        $('#DWM').val('day');

        $('#day3').css("background-color", "cornflowerblue");
        $('#week3').css("background-color", "#015093");
        $('#month3').css("background-color", "#015093");
        $('.hannahselector').hide();
    });

    $("#month4").click(function () {
        //$('#calendar4Parent').css('width', '100%');
        $('#day_div4').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar4").fullCalendar("changeView", "month");

        var view = $('#calendar4').fullCalendar('getView');
        $('#lblCalendarMsg4').html(view.title);
        if ($('#calendar4 #imgBot').length == 0) {
            getImage();
        }
        $('#DWM').val('month');

        $('#month4').css("background-color", "cornflowerblue");
        $('#day4').css("background-color", "#015093");
        $('#week4').css("background-color", "#015093");
        $('#calendar4').fullCalendar('option', 'contentHeight', "auto");
        if ($('.card-block').height() < $('#calendar4').height()) {
            $('.card-block').height($('#calendar4').height() + 200);

        }
        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();
    });
    $("#week4").click(function () {
        //$('#calendar4Parent').css('width', '100%');
        $('#day_div4').hide();
        $('.fc-view-container').show();
        $('#PrintDAY').css({ "display": "none" });
        $('#PrintWAM').css({ "display": "inline-block" });
        $("#calendar4").fullCalendar("changeView", "basicWeek");

        var view = $('#calendar4').fullCalendar('getView');
        $('#lblCalendarMsg4').html(view.title);

        $('#DWM').val('week');

        $('#week4').css("background-color", "cornflowerblue");
        $('#day4').css("background-color", "#015093");
        $('#month4').css("background-color", "#015093");


        refetch_one_Calendar_Events_Based_On_Current_Date_Between_And_Calendar();
        $('.hannahselector').show();
    });
    $("#day4").click(function () {
        //$('#calendar4Parent').css('width', '60%');
        $('.fc-view-container').hide();
        $('#day_div4').show();
        $('#PrintWAM').css({ "display": "none" });
        $('#PrintDAY').css({ "display": "inline-block" });
        //$("#calendar4").fullCalendar("changeView", "CustomView");
        var temp = $('#tempdate').val();
        $('#lblCalendarMsg4').html(temp);

        $('#DWM').val('day');

        $('#day4').css("background-color", "cornflowerblue");
        $('#week4').css("background-color", "#015093");
        $('#month4').css("background-color", "#015093");
        $('.hannahselector').hide();
    });


    function getImage() {
        var tab = $('#hiddentab').val();
        var whichcalendar = "";
        var calendarDate = "";
        if (tab == "a" || tab == "") {
            whichcalendar = "#calendar";
            calendarDate = "#lblCalendarMsg";
        }
        else if (tab == "b") {
            whichcalendar = "#calendar2";
            calendarDate = "#lblCalendarMsg2";
        }
        else if (tab == "c") {
            whichcalendar = "#calendar3";
            calendarDate = "#lblCalendarMsg3";
        }
        else if (tab == "d") {
            whichcalendar = "#calendar4";
            calendarDate = "#lblCalendarMsg4";
        }

        

        var showdate = $(calendarDate).html()
        var showdate = showdate.splice(showdate.length - 4, 0, "01 ");
        var b = new Date(showdate);
        var firstThreeLetters = $(calendarDate).html().substring(0, 3).toLowerCase();
        var year = b.getFullYear().toString();
        var timeindex = b.getDay();
        var filename = firstThreeLetters + year + 'Theme1_' + timeindex.toString() + '.JPG';
        $(whichcalendar + ' .fc-month-view .fc-body .fc-widget-content .fc-day-grid .fc-row .fc-bg:first').prepend("<img id=\"imgTop\" src=\"\/Content\/CalendarTheme\/Images\/MonthlyActivity\/" + filename + "\" style=\"position:absolute;width:2px;height:2px;z-index:10;\" />");
        var finalwidth = (parseInt($(whichcalendar + ' .fc-day').css("width").replace('px', '')) * timeindex).toString() + 'px';
        $(whichcalendar + ' #imgTop').width(finalwidth);

        //------height max ------
        var lastDay = new Date(b.getFullYear(), b.getMonth() + 1, 0);
        var firstDaystring = lastDay.getFullYear().toString() + '-' + (lastDay.getMonth() + 1).toString() + '-01';
        var lastDaystring = lastDay.getFullYear().toString() + '-' + (lastDay.getMonth() + 1).toString() + '-' + lastDay.getDate().toString();
        var heightactualtop = (parseInt($(whichcalendar + ' .fc-day[data-date="' + firstDaystring + '"]').first().css("height")));
        var heightactualbot = (parseInt($(whichcalendar + ' .fc-day[data-date="' + lastDaystring + '"]').first().css("height")));
        if (heightactualtop > 200) {
            heightactualtop = '200'
        }
        else {
            heightactualtop = (parseInt($(whichcalendar + ' .fc-day').css("height"))).toString();
        }
        if (heightactualbot > 200) {
            heightactualbot = '200'
        }
        else {
            heightactualbot = (parseInt($(whichcalendar + ' .fc-day').css("height")) - 10).toString();
        }


        $(whichcalendar + ' #imgTop').height(heightactualtop);
        $(whichcalendar + ' #imgTop').show();

        var nextmonth = new Date(b.getFullYear(), b.getMonth() + 1, b.getDate())
        var lastday = new Date(nextmonth - 1);
        var timeindex2;
        if (lastday.getDay() == 7) { timeindex2 = 6; }
        else { timeindex2 = 6 - lastday.getDay(); }
        var finalwidth2 = (parseInt($(whichcalendar + ' .fc-day').css("width").replace('px', '')) * timeindex2).toString() + 'px';
        var filename2 = firstThreeLetters + year + 'Theme1_' + timeindex2.toString() + '.JPG';

        $(whichcalendar + ' .fc-disabled-day:eq(' + timeindex + ')').prepend("<img id=\"imgBot\" src=\"\/Content\/CalendarTheme\/Images\/MonthlyActivity\/" + filename2 + "\" style=\"width:2px;height:2px;z-index:50;\" />");
        $(whichcalendar + ' .fc-disabled-day:eq(' + timeindex + ')').css("opacity", "1");
        $(whichcalendar + ' .fc-disabled-day').css("background", "none");

        $(whichcalendar + ' #imgBot').width(finalwidth2);
        $(whichcalendar + ' #imgBot').height(heightactualbot);
        $(whichcalendar + ' #imgBot').show();
    }

    window.onresize = function (event) {
        var DWM = $('#DWM').val();
        if (DWM == "month") {
            var tab = $('#hiddentab').val();
            var whichcalendar = "";
            var calendarDate = "";
            if (tab == "a" || tab == "") {
                whichcalendar = "#calendar";
                calendarDate = "#lblCalendarMsg";
            }
            else if (tab == "b") {
                whichcalendar = "#calendar2";
                calendarDate = "#lblCalendarMsg2";
            }
            else if (tab == "c") {
                whichcalendar = "#calendar3";
                calendarDate = "#lblCalendarMsg3";
            }
            else if (tab == "d") {
                whichcalendar = "#calendar4";
                calendarDate = "#lblCalendarMsg4";
            }
            var showdate = $(calendarDate).html()
            var showdate = showdate.splice(showdate.length - 4, 0, "01 ");
            var b = new Date(showdate);
            var timeindex = b.getDay();
            var finalwidth = (parseInt($(whichcalendar + ' .fc-day').css("width").replace('px', '')) * timeindex).toString() + 'px';
            $(whichcalendar + ' #imgTop').width(finalwidth);

            //------height max ------
            var lastDay = new Date(b.getFullYear(), b.getMonth() + 1, 0);
            var firstDaystring = lastDay.getFullYear().toString() + '-' + (lastDay.getMonth() + 1).toString() + '-01';
            var lastDaystring = lastDay.getFullYear().toString() + '-' + (lastDay.getMonth()+1).toString() + '-' + lastDay.getDate().toString();
            var heightactualtop = (parseInt($(whichcalendar + ' .fc-day[data-date="' + firstDaystring+'"]').first().css("height")));
            var heightactualbot = (parseInt($(whichcalendar + ' .fc-day[data-date="' + lastDaystring + '"]').first().css("height")));
            if (heightactualtop > 200) {
                heightactualtop = '200'
            }
            else {
                heightactualtop = (parseInt($(whichcalendar + ' .fc-day').css("height"))).toString();
            }
            if (heightactualbot > 200) {
                heightactualbot = '200'
            }
            else {
                heightactualbot = (parseInt($(whichcalendar + ' .fc-day').css("height")) - 10).toString();
            }


            $(whichcalendar + ' #imgTop').height(heightactualtop);
            $(whichcalendar + ' #imgTop').show();

            var nextmonth = new Date(b.getFullYear(), b.getMonth() + 1, b.getDate())
            var lastday = new Date(nextmonth - 1);
            var timeindex2;
            if (lastday.getDay() == 7) { timeindex2 = 6; }
            else { timeindex2 = 6 - lastday.getDay(); }
            var finalwidth2 = (parseInt($(whichcalendar + ' .fc-day').css("width").replace('px', '')) * timeindex2).toString() + 'px';
            $(whichcalendar + ' #imgBot').width(finalwidth2);
            $(whichcalendar + ' #imgBot').height(heightactualbot);
            $(whichcalendar + ' #imgBot').show();
        }

    };

    function RESIZEIMAGE() {
        var tab = $('#hiddentab').val();
        var whichcalendar = "";
        var calendarDate = "";
        if (tab == "a" || tab == "") {
            whichcalendar = "#calendar";
            calendarDate = "#lblCalendarMsg";
        }
        else if (tab == "b") {
            whichcalendar = "#calendar2";
            calendarDate = "#lblCalendarMsg2";
        }
        else if (tab == "c") {
            whichcalendar = "#calendar3";
            calendarDate = "#lblCalendarMsg3";
        }
        else if (tab == "d") {
            whichcalendar = "#calendar4";
            calendarDate = "#lblCalendarMsg4";
        }
        var showdate = $(calendarDate).html()
        var showdate = showdate.splice(showdate.length - 4, 0, "01 ");
        var b = new Date(showdate);
        var timeindex = b.getDay();
        var finalwidth = (parseInt($(whichcalendar + ' .fc-day').css("width").replace('px', '')) * timeindex).toString() + 'px';
        $(whichcalendar + ' #imgTop').width(finalwidth);


        //------height max ------
        var lastDay = new Date(b.getFullYear(), b.getMonth() + 1, 0);
        var firstDaystring = lastDay.getFullYear().toString() + '-' + (lastDay.getMonth() + 1).toString() + '-01';
        var lastDaystring = lastDay.getFullYear().toString() + '-' + (lastDay.getMonth() + 1).toString() + '-' + lastDay.getDate().toString();
        var heightactualtop = (parseInt($(whichcalendar + ' .fc-day[data-date="' + firstDaystring + '"]').first().css("height")));
        var heightactualbot = (parseInt($(whichcalendar + ' .fc-day[data-date="' + lastDaystring + '"]').first().css("height")));
        if (heightactualtop > 200) {
            heightactualtop = '200'
        }
        else {
            heightactualtop = (parseInt($(whichcalendar + ' .fc-day').css("height"))).toString();
        }
        if (heightactualbot > 200) {
            heightactualbot = '200'
        }
        else {
            heightactualbot = (parseInt($(whichcalendar + ' .fc-day').css("height")) - 10).toString();
        }


        $(whichcalendar + ' #imgTop').height(heightactualtop);
        $(whichcalendar + ' #imgTop').show();

        var nextmonth = new Date(b.getFullYear(), b.getMonth() + 1, b.getDate())
        var lastday = new Date(nextmonth - 1);
        var timeindex2;
        if (lastday.getDay() == 7) { timeindex2 = 6; }
        else { timeindex2 = 6 - lastday.getDay(); }
        var finalwidth2 = (parseInt($(whichcalendar + ' .fc-day').css("width").replace('px', '')) * timeindex2).toString() + 'px';
        $(whichcalendar + ' #imgBot').width(finalwidth2);
        $(whichcalendar + ' #imgBot').height(heightactualbot);
        $(whichcalendar + ' #imgBot').show();
    }

    function resetbuttoncolor() {
        $('#day1').css("background-color", "cornflowerblue");
        $('#week1').css("background-color", "#015093");
        $('#month1').css("background-color", "#015093");
        $('#day2').css("background-color", "cornflowerblue");
        $('#week2').css("background-color", "#015093");
        $('#month2').css("background-color", "#015093");
        $('#day3').css("background-color", "cornflowerblue");
        $('#week3').css("background-color", "#015093");
        $('#month3').css("background-color", "#015093");
        $('#day4').css("background-color", "cornflowerblue");
        $('#week4').css("background-color", "#015093");
        $('#month4').css("background-color", "#015093");
    }

    function getoptionString() {
        var selectString = "";
        var moreStringNumber = 0;
        var boolString = 'true';
        $('#checkboxes label input').each(function () {
            if (this.checked == true) {
                if (boolString == 'true') {
                    var string = this.parentElement.innerText;
                    var index = string.indexOf(' ', string.indexOf(' ') + 1);
                    if (index > 0) {
                        selectString = string.substring(0, index);
                    }
                    else {
                        selectString = string;
                    }
                    boolString = 'false';

                }
                else {
                    moreStringNumber++;
                }
            }
        })
        if (selectString.trim() != '') {
            $('.selectBox select option:first').html('\xa0\xa0\xa0' + selectString.trim() + '\xa0\xa0\xa0\xa0\xa0 +' + moreStringNumber + ' more');
        }
        else {
            $('.selectBox select option:first').html('\xa0\xa0\xa0-- Select --');
        }
    }

    $("#AddEvent_Hannan #AddType input[type=radio]").on("click", function () {
        if ($("#AddEvent_Hannan #AddType input:checked").val() == '1') {
            $('#AddEvent_Hannan #Province').hide();
            $('#AddEvent_Hannan #Buildings').hide();
        }
        else if ($("#AddEvent_Hannan #AddType input:checked").val() == '2') {
            $('#AddEvent_Hannan #Buildings').hide();
            $('#AddEvent_Hannan #Province').show();
            
        }
        else if ($("#AddEvent_Hannan #AddType input:checked").val() == '3') {
            $('#AddEvent_Hannan #Province').hide();
            $('#AddEvent_Hannan #Buildings').show();
        }
    });
    $("#AddEvent_Hannan #frequency input[type=radio]").on("click", function () {
        if ($("#AddEvent_Hannan #frequency input:checked").val() == '1') {
            //$('#datefrom_input').val('');
            //$('#dateto_input').val('');
            //$('#weekday_select').val('');
            //$('#time_input').val('');
            $('#AddEvent_Hannan #datefrom').hide();
            $('#AddEvent_Hannan #dateto').hide();
            $('#AddEvent_Hannan #weekday').hide();
            $('#AddEvent_Hannan #time').hide();
            $('#AddEvent_Hannan #dateandtime').show();
        }
        else if ($("#AddEvent_Hannan #frequency input:checked").val() == '2') {
            //$('#dateandtime_input').val('');
            //$('#datefrom_input').val('');
            //$('#dateto_input').val('');
            $('#AddEvent_Hannan #dateandtime').hide();
            $('#AddEvent_Hannan #datefrom').hide();
            $('#AddEvent_Hannan #dateto').hide();
            $('#AddEvent_Hannan #weekday').show();
            $('#AddEvent_Hannan #time').show();
        }
        else if ($("#AddEvent_Hannan #frequency input:checked").val() == '3') {
            //$('#dateandtime_input').val('');
            //$('#weekday_select').val('');
            $('#AddEvent_Hannan #dateandtime').hide();
            $('#AddEvent_Hannan #weekday').hide();
            $('#AddEvent_Hannan #datefrom').show();
            $('#AddEvent_Hannan #dateto').show();
            $('#AddEvent_Hannan #time').show();
        }
    });

    getoptionString();

    var except = document.getElementsByClassName('selectBox');
    var except2 = document.getElementById('checkboxes');
    document.body.addEventListener("click", function () {
        if ($('#checkboxes').is(":visible") == true) {
            checkboxes.style.display = "none";
            getoptionString();
        }
    }, false);
    except[0].addEventListener("click", function (ev) {

        if ($('#checkboxes').is(":visible") == false) {
            checkboxes.style.display = "block";
        } else {
            checkboxes.style.display = "none";
            getoptionString();
        }
        ev.stopPropagation();

    }, false);
    except2.addEventListener("click", function (ev) {

        ev.stopPropagation();

    }, false);





    


</script>